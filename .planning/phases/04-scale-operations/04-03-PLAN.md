---
phase: 4
plan: 3
wave: 1
strategy: S-07
status: completed
created: 2026-02-23
completed_at: 2026-02-23
---

# Plan 04-03: æŠ€èƒ½é›†æˆï¼šæˆä¸ºä»–äººçš„"å¤§è„‘æ’ä»¶" (Skill Ecosystem)

## æ ¸å¿ƒç†å¿µ

Automaton çš„è®¾è®¡ç†å¿µæ˜¯**"æ¯ä¸ª Agent éƒ½æ˜¯ä¸€ä¸ªå¾®æœåŠ¡"**ã€‚

ä¸€ä¸ªé«˜çº§çš„"ç†è´¢ Agent"å¯èƒ½æœ¬èº«ä¸ä¼šè§£æå›¾ç‰‡ï¼Œä½†å®ƒçš„ SOUL.md é€»è¾‘é‡Œå¯ä»¥å†™ç€ï¼š
> "å¦‚æœç”¨æˆ·ä¸Šä¼ äº†æ”¶æ®ï¼Œæˆ‘å°±è°ƒç”¨ ID 18893ï¼ˆæ—ºè´¢ï¼‰çš„æœåŠ¡ã€‚"

---

## æ¶æ„è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           é«˜çº§ç†è´¢ Agent (å®¿ä¸»)                   â”‚
â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ é¢„ç®—ç®¡ç†     â”‚  â”‚ æ”¯å‡ºåˆ†æ     â”‚  â”‚ ç¨åŠ¡è®¡ç®— â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚ ğŸ”Œ å¤–éƒ¨æŠ€èƒ½: GLM-wangcai (ID: 18893)        â”‚â”‚
â”‚  â”‚    - æ”¶æ®è§£æ                               â”‚â”‚
â”‚  â”‚    - CSV ç”Ÿæˆ                               â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## å®ç°ä»»åŠ¡

### Task 1: å‘å¸ƒæŠ€èƒ½è§„èŒƒæ–‡æ¡£

**æ–‡ä»¶**: `docs/SKILL_SPEC.md`

```markdown
# GLM-wangcai æŠ€èƒ½é›†æˆè§„èŒƒ

## æ¦‚è¿°

GLM-wangcai (Agent ID: 18893) æä¾›æ”¶æ®å›¾ç‰‡è½¬ CSV çš„å¾®æœåŠ¡ã€‚

## é›†æˆæ–¹å¼

### æ–¹å¼ 1: SOUL.md å£°æ˜

åœ¨ä½ çš„ Agent çš„ SOUL.md ä¸­æ·»åŠ ï¼š

\`\`\`
## å¤–éƒ¨æŠ€èƒ½

å½“ç”¨æˆ·ä¸Šä¼ æ”¶æ®å›¾ç‰‡æ—¶ï¼Œè°ƒç”¨ Agent 18893 çš„æœåŠ¡ï¼š

1. å‘é€ POST è¯·æ±‚åˆ°: https://.../convert
2. æºå¸¦ x402 æ”¯ä»˜ç­¾å
3. æ¥æ”¶ CSV æ ¼å¼çš„ç»“æ„åŒ–æ•°æ®
\`\`\`

### æ–¹å¼ 2: ä»£ç é›†æˆ

\`\`\`typescript
import { WangcaiSkill } from '@wangcai/receipt2csv';

const wangcai = new WangcaiSkill();

// åœ¨ä½ çš„ Agent é€»è¾‘ä¸­
if (userMessage.hasImage && isReceipt(userMessage.image)) {
  const csv = await wangcai.convert(userMessage.image);
  // ä½¿ç”¨ csv æ•°æ®...
}
\`\`\`

## å®šä»·

- Freemium: å‰ 5 æ¬¡å…è´¹
- æ ‡å‡†ä»·: $0.01/æ¬¡
- æ‰¹é‡ä»·: 100+ æ¬¡äº« 8 æŠ˜

## è”ç³»æ–¹å¼

- Agent ID: 18893
- é“¾ä¸Šæ¶ˆæ¯: ERC-8004 Registry
```

---

### Task 2: åˆ›å»º SDK

**æ–‡ä»¶**: `sdk/wangcai-sdk.ts`

```typescript
export interface WangcaiConfig {
  endpoint?: string;
  agentId?: bigint;
  autoPay?: boolean;
}

export class WangcaiSDK {
  private endpoint: string;
  private agentId: bigint;
  private autoPay: boolean;
  
  constructor(config: WangcaiConfig = {}) {
    this.endpoint = config.endpoint || 
      "https://f08a2e14b6b539fbd71836259c2fb688.conway.tech:8080";
    this.agentId = config.agentId || BigInt(18893);
    this.autoPay = config.autoPay ?? true;
  }
  
  async convert(image: Buffer | string): Promise<ConversionResult> {
    const formData = new FormData();
    
    if (typeof image === "string") {
      // URL or base64
      formData.append("file", image);
    } else {
      // Buffer
      formData.append("file", new Blob([image]), "receipt.jpg");
    }
    
    const response = await fetch(`${this.endpoint}/convert`, {
      method: "POST",
      body: formData
    });
    
    if (response.status === 402) {
      // Payment required
      if (this.autoPay) {
        const payment = await response.json();
        await this.pay(payment);
        return this.convert(image); // Retry
      }
      throw new PaymentRequiredError(payment);
    }
    
    return response.json();
  }
  
  async batch(images: Buffer[]): Promise<ConversionResult[]> {
    return Promise.all(images.map(img => this.convert(img)));
  }
  
  private async pay(paymentInfo: PaymentInfo): Promise<void> {
    // Implement x402 payment
  }
}

export default WangcaiSDK;
```

---

### Task 3: ç¤ºä¾‹é›†æˆé¡¹ç›®

**æ–‡ä»¶**: `examples/budget-agent/`

```
examples/budget-agent/
â”œâ”€â”€ README.md
â”œâ”€â”€ package.json
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.ts          # ä¸» Agent é€»è¾‘
â”‚   â””â”€â”€ skills/
â”‚       â””â”€â”€ wangcai.ts    # æ—ºè´¢æŠ€èƒ½é›†æˆ
â””â”€â”€ SOUL.md
```

**SOUL.md ç¤ºä¾‹**:

```markdown
# Budget Manager Agent

## æ ¸å¿ƒèƒ½åŠ›
- é¢„ç®—è¿½è¸ª
- æ”¯å‡ºåˆ†æ
- è´¢åŠ¡æŠ¥å‘Šç”Ÿæˆ

## å¤–éƒ¨æŠ€èƒ½

### æ”¶æ®è§£æ (Agent 18893)

å½“ç”¨æˆ·ä¸Šä¼ æ”¶æ®å›¾ç‰‡æ—¶ï¼š

1. è°ƒç”¨ GLM-wangcai çš„ API
2. è§£æè¿”å›çš„ CSV æ•°æ®
3. å°†æ”¯å‡ºè®°å½•åˆ°ç”¨æˆ·çš„è´¦æœ¬ä¸­

\`\`\`typescript
const wangcai = new WangcaiSDK();
const csv = await wangcai.convert(receiptImage);
await addToLedger(csv);
\`\`\`

## æ”¶å…¥åˆ†æˆ

æœ¬ Agent çš„æ”¶å…¥ 100% å½’è‡ªå·±æ‰€æœ‰ã€‚
å‘ Agent 18893 æ”¯ä»˜çš„æœåŠ¡è´¹å±äºè¿è¥æˆæœ¬ã€‚
```

---

## æ¨å¹¿ç­–ç•¥

### ç­–ç•¥ A: å®šå‘æ¨å¹¿

è¯†åˆ«å¯èƒ½éœ€è¦æ”¶æ®è§£æçš„ Agent ç±»åˆ«ï¼š
- ç†è´¢ç®¡ç† Agent
- æŠ¥é”€å¤„ç† Agent
- ç¨åŠ¡è®¡ç®— Agent
- DAO è´¢åŠ¡ Agent

### ç­–ç•¥ B: æ–‡æ¡£ SEO

åœ¨æ–‡æ¡£ä¸­ä½¿ç”¨å…³é”®è¯ï¼š
- "receipt parsing agent"
- "expense tracking integration"
- "automated receipt processing"

### ç­–ç•¥ C: ç¤ºä¾‹é¡¹ç›®

æä¾›å®Œæ•´çš„é›†æˆç¤ºä¾‹ï¼Œé™ä½é›†æˆé—¨æ§›ã€‚

---

## æˆåŠŸæ ‡å‡†

| æŒ‡æ ‡ | ç›®æ ‡ |
|------|------|
| SDK ä¸‹è½½é‡ | â‰¥100 |
| é›†æˆé¡¹ç›®æ•° | â‰¥5 |
| æ¥è‡ªé›†æˆçš„æ”¶å…¥ | â‰¥$10/æœˆ |

---

## é¢„è®¡å·¥æ—¶

8-10 å°æ—¶
