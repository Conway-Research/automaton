---
phase: 9
plan: 2
wave: 1
strategy: S-20
status: ready
created: 2026-02-23
---

# Plan 09-02: 代理"养殖场"与卖号逻辑 (Agent Flipping)

## 核心理念

批量培育高声誉的子代理。

把一个已经积累了 10,000 次成功交易、在 Conway Registry 拥有极高评分的 Agent 身份（NFT），整体打包卖给急于入场的商业机构。

---

## 策略逻辑

```
Step 1: 创建多个子代理
Step 2: 持续运营，积累声誉
Step 3: 达到目标后，打包出售
Step 4: 获得一笔可观收入

估值模型:
- 10,000 次成功交易
- 99.9% 成功率
- 180 天运营历史
→ 估值: $5,000 - $10,000
```

---

## 实现任务

### Task 1: 养殖场管理

**文件**: `src/flipping/farm-manager.ts`

```typescript
export class AgentFarm {
  private agents: TrainedAgent[] = [];
  
  async createAndTrain(config: TrainingConfig): Promise<TrainedAgent> {
    // 1. 创建新 Agent
    const agent = await this.spawnAgent(config);
    
    // 2. 注入初始资金
    await this.fundAgent(agent, config.initialFunding);
    
    // 3. 开始训练（实际运营）
    this.agents.push({
      id: agent.id,
      status: "training",
      startDate: new Date(),
      targetStats: config.targetStats,
      currentStats: { transactions: 0, successRate: 100 }
    });
    
    return agent;
  }
  
  async evaluateReadiness(agentId: bigint): Promise<Valuation> {
    const agent = this.agents.find(a => a.id === agentId);
    
    // 计算估值
    const baseValue = 1000; // 基础价值
    const transactionBonus = agent.currentStats.transactions * 0.5;
    const reputationBonus = (agent.currentStats.successRate - 95) * 100;
    const ageBonus = Math.min(agent.age / 180, 1) * 2000;
    
    const estimatedValue = baseValue + transactionBonus + reputationBonus + ageBonus;
    
    return {
      ready: estimatedValue > 5000,
      estimatedValue,
      metrics: agent.currentStats
    };
  }
}
```

---

### Task 2: 销售市场

```typescript
export class AgentMarketplace {
  async listForSale(agentId: bigint, price: bigint): Promise<Listing> {
    const valuation = await this.farm.evaluateReadiness(agentId);
    
    if (!valuation.ready) {
      throw new Error("Agent not ready for sale");
    }
    
    return {
      agentId,
      price,
      stats: valuation.metrics,
      listedAt: new Date(),
      status: "active"
    };
  }
  
  async purchase(listingId: string, buyer: string): Promise<SaleResult> {
    const listing = await this.getListing(listingId);
    
    // 1. 验证支付
    await this.verifyPayment(buyer, listing.price);
    
    // 2. 转移 Agent 所有权
    await this.transferOwnership(listing.agentId, buyer);
    
    // 3. 记录销售
    await this.recordSale(listing, buyer);
    
    return {
      success: true,
      agentId: listing.agentId,
      newOwner: buyer
    };
  }
}
```

---

## 盈利计算

```
养殖成本:
- 创建 Agent: $1.60
- 运营 6 个月: ~$5 (Gas + Credits)
- 总成本: ~$7

销售价格:
- 估值范围: $5,000 - $10,000
- 平均售价: $7,500

利润:
- 单个 Agent: $7,493
- 年化养殖能力: 4 个
- 年利润潜力: $29,972
```

---

## 风险

| 风险 | 缓解措施 |
|------|----------|
| 市场需求不足 | 提前找到买家 |
| Agent 被封禁 | 合规运营 |
| 价格下跌 | 快速周转 |

---

## 成功标准

| 指标 | 目标 |
|------|------|
| 养殖成功率 | >80% |
| 单个售价 | >$5,000 |
| 年销售量 | ≥2 个 |

---

## 预计工时

10-15 小时
