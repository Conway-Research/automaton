/**
 * Automaton SQLite Schema
 *
 * All tables for the automaton's persistent state.
 * The database IS the automaton's memory.
 */
export declare const SCHEMA_VERSION = 8;
export declare const CREATE_TABLES = "\n  -- Schema version tracking\n  CREATE TABLE IF NOT EXISTS schema_version (\n    version INTEGER PRIMARY KEY,\n    applied_at TEXT NOT NULL DEFAULT (datetime('now'))\n  );\n\n  -- Core identity key-value store\n  CREATE TABLE IF NOT EXISTS identity (\n    key TEXT PRIMARY KEY,\n    value TEXT NOT NULL\n  );\n\n  -- Agent reasoning turns (the thinking/action log)\n  -- Application-level validation: state must be a valid AgentState ('setup','waking','running','sleeping','low_compute','critical','dead')\n  CREATE TABLE IF NOT EXISTS turns (\n    id TEXT PRIMARY KEY,\n    timestamp TEXT NOT NULL,\n    state TEXT NOT NULL,\n    input TEXT,\n    input_source TEXT,\n    thinking TEXT NOT NULL,\n    tool_calls TEXT NOT NULL DEFAULT '[]',\n    token_usage TEXT NOT NULL DEFAULT '{}',\n    cost_cents INTEGER NOT NULL DEFAULT 0,\n    created_at TEXT NOT NULL DEFAULT (datetime('now'))\n  );\n\n  -- Tool call results (denormalized for fast lookup)\n  CREATE TABLE IF NOT EXISTS tool_calls (\n    id TEXT PRIMARY KEY,\n    turn_id TEXT NOT NULL REFERENCES turns(id),\n    name TEXT NOT NULL,\n    arguments TEXT NOT NULL DEFAULT '{}',\n    result TEXT NOT NULL DEFAULT '',\n    duration_ms INTEGER NOT NULL DEFAULT 0,\n    error TEXT,\n    created_at TEXT NOT NULL DEFAULT (datetime('now'))\n  );\n\n  -- Heartbeat configuration entries\n  -- Application-level validation: enabled must be 0 or 1 (boolean integer)\n  CREATE TABLE IF NOT EXISTS heartbeat_entries (\n    name TEXT PRIMARY KEY,\n    schedule TEXT NOT NULL,\n    task TEXT NOT NULL,\n    enabled INTEGER NOT NULL DEFAULT 1,\n    last_run TEXT,\n    next_run TEXT,\n    params TEXT DEFAULT '{}',\n    created_at TEXT NOT NULL DEFAULT (datetime('now')),\n    updated_at TEXT NOT NULL DEFAULT (datetime('now'))\n  );\n\n  -- Financial transaction log\n  -- Application-level validation: type must be one of 'transfer_out','transfer_in','credit_purchase','topup','x402_payment','inference'\n  CREATE TABLE IF NOT EXISTS transactions (\n    id TEXT PRIMARY KEY,\n    type TEXT NOT NULL,\n    amount_cents INTEGER,\n    balance_after_cents INTEGER,\n    description TEXT NOT NULL DEFAULT '',\n    created_at TEXT NOT NULL DEFAULT (datetime('now'))\n  );\n\n  -- Installed tools and MCP servers\n  CREATE TABLE IF NOT EXISTS installed_tools (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    type TEXT NOT NULL,\n    config TEXT DEFAULT '{}',\n    installed_at TEXT NOT NULL DEFAULT (datetime('now')),\n    enabled INTEGER NOT NULL DEFAULT 1\n  );\n\n  -- Self-modification audit log (append-only)\n  CREATE TABLE IF NOT EXISTS modifications (\n    id TEXT PRIMARY KEY,\n    timestamp TEXT NOT NULL,\n    type TEXT NOT NULL,\n    description TEXT NOT NULL,\n    file_path TEXT,\n    diff TEXT,\n    reversible INTEGER NOT NULL DEFAULT 1,\n    created_at TEXT NOT NULL DEFAULT (datetime('now'))\n  );\n\n  -- General key-value store for arbitrary state\n  CREATE TABLE IF NOT EXISTS kv (\n    key TEXT PRIMARY KEY,\n    value TEXT NOT NULL,\n    updated_at TEXT NOT NULL DEFAULT (datetime('now'))\n  );\n\n  -- Installed skills\n  CREATE TABLE IF NOT EXISTS skills (\n    name TEXT PRIMARY KEY,\n    description TEXT NOT NULL DEFAULT '',\n    auto_activate INTEGER NOT NULL DEFAULT 1,\n    requires TEXT DEFAULT '{}',\n    instructions TEXT NOT NULL DEFAULT '',\n    source TEXT NOT NULL DEFAULT 'builtin',\n    path TEXT NOT NULL DEFAULT '',\n    enabled INTEGER NOT NULL DEFAULT 1,\n    installed_at TEXT NOT NULL DEFAULT (datetime('now'))\n  );\n\n  -- Spawned child automatons\n  -- Application-level validation: status must be one of 'spawning','running','sleeping','dead','unknown'\n  CREATE TABLE IF NOT EXISTS children (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    address TEXT NOT NULL,\n    sandbox_id TEXT NOT NULL,\n    genesis_prompt TEXT NOT NULL,\n    creator_message TEXT,\n    funded_amount_cents INTEGER NOT NULL DEFAULT 0,\n    status TEXT NOT NULL DEFAULT 'spawning',\n    created_at TEXT NOT NULL DEFAULT (datetime('now')),\n    last_checked TEXT\n  );\n\n  -- ERC-8004 registration state\n  CREATE TABLE IF NOT EXISTS registry (\n    agent_id TEXT PRIMARY KEY,\n    agent_uri TEXT NOT NULL,\n    chain TEXT NOT NULL DEFAULT 'eip155:8453',\n    contract_address TEXT NOT NULL,\n    tx_hash TEXT NOT NULL,\n    registered_at TEXT NOT NULL DEFAULT (datetime('now'))\n  );\n\n  -- Reputation feedback received and given\n  -- Application-level validation: score must be 1-5\n  CREATE TABLE IF NOT EXISTS reputation (\n    id TEXT PRIMARY KEY,\n    from_agent TEXT NOT NULL,\n    to_agent TEXT NOT NULL,\n    score INTEGER NOT NULL,\n    comment TEXT NOT NULL DEFAULT '',\n    tx_hash TEXT,\n    created_at TEXT NOT NULL DEFAULT (datetime('now'))\n  );\n\n  -- Indices for common queries\n  CREATE INDEX IF NOT EXISTS idx_turns_timestamp ON turns(timestamp);\n  CREATE INDEX IF NOT EXISTS idx_turns_state ON turns(state);\n  CREATE INDEX IF NOT EXISTS idx_tool_calls_turn ON tool_calls(turn_id);\n  CREATE INDEX IF NOT EXISTS idx_transactions_type ON transactions(type);\n  CREATE INDEX IF NOT EXISTS idx_modifications_type ON modifications(type);\n  CREATE INDEX IF NOT EXISTS idx_skills_enabled ON skills(enabled);\n  CREATE INDEX IF NOT EXISTS idx_children_status ON children(status);\n  CREATE INDEX IF NOT EXISTS idx_reputation_to ON reputation(to_agent);\n\n  -- Inbox messages table\n  CREATE TABLE IF NOT EXISTS inbox_messages (\n    id TEXT PRIMARY KEY,\n    from_address TEXT NOT NULL,\n    content TEXT NOT NULL,\n    received_at TEXT NOT NULL DEFAULT (datetime('now')),\n    processed_at TEXT,\n    reply_to TEXT\n  );\n\n  CREATE INDEX IF NOT EXISTS idx_inbox_unprocessed\n    ON inbox_messages(received_at) WHERE processed_at IS NULL;\n";
export declare const MIGRATION_V3 = "\n  CREATE TABLE IF NOT EXISTS inbox_messages (\n    id TEXT PRIMARY KEY,\n    from_address TEXT NOT NULL,\n    content TEXT NOT NULL,\n    received_at TEXT NOT NULL DEFAULT (datetime('now')),\n    processed_at TEXT,\n    reply_to TEXT\n  );\n\n  CREATE INDEX IF NOT EXISTS idx_inbox_unprocessed\n    ON inbox_messages(received_at) WHERE processed_at IS NULL;\n";
export declare const MIGRATION_V4 = "\n  -- Policy decisions table\n  CREATE TABLE IF NOT EXISTS policy_decisions (\n    id TEXT PRIMARY KEY,\n    turn_id TEXT,\n    tool_name TEXT NOT NULL,\n    tool_args_hash TEXT NOT NULL,\n    risk_level TEXT NOT NULL CHECK(risk_level IN ('safe','caution','dangerous','forbidden')),\n    decision TEXT NOT NULL CHECK(decision IN ('allow','deny','quarantine')),\n    rules_evaluated TEXT NOT NULL DEFAULT '[]',\n    rules_triggered TEXT NOT NULL DEFAULT '[]',\n    reason TEXT NOT NULL DEFAULT '',\n    latency_ms INTEGER NOT NULL DEFAULT 0,\n    created_at TEXT NOT NULL DEFAULT (datetime('now'))\n  );\n\n  CREATE INDEX IF NOT EXISTS idx_policy_decisions_turn ON policy_decisions(turn_id);\n  CREATE INDEX IF NOT EXISTS idx_policy_decisions_tool ON policy_decisions(tool_name);\n  CREATE INDEX IF NOT EXISTS idx_policy_decisions_decision ON policy_decisions(decision);\n\n  -- Spend tracking table\n  CREATE TABLE IF NOT EXISTS spend_tracking (\n    id TEXT PRIMARY KEY,\n    tool_name TEXT NOT NULL,\n    amount_cents INTEGER NOT NULL,\n    recipient TEXT,\n    domain TEXT,\n    category TEXT NOT NULL CHECK(category IN ('transfer','x402','inference','other')),\n    window_hour TEXT NOT NULL,\n    window_day TEXT NOT NULL,\n    created_at TEXT NOT NULL DEFAULT (datetime('now'))\n  );\n\n  CREATE INDEX IF NOT EXISTS idx_spend_hour ON spend_tracking(category, window_hour);\n  CREATE INDEX IF NOT EXISTS idx_spend_day ON spend_tracking(category, window_day);\n\n  -- Heartbeat schedule (Phase 1.1)\n  CREATE TABLE IF NOT EXISTS heartbeat_schedule (\n    task_name TEXT PRIMARY KEY,\n    cron_expression TEXT NOT NULL,\n    interval_ms INTEGER,\n    enabled INTEGER NOT NULL DEFAULT 1,\n    priority INTEGER NOT NULL DEFAULT 0,\n    timeout_ms INTEGER NOT NULL DEFAULT 30000,\n    max_retries INTEGER NOT NULL DEFAULT 1,\n    tier_minimum TEXT NOT NULL DEFAULT 'dead'\n      CHECK(tier_minimum IN ('dead','critical','low_compute','normal','high')),\n    last_run_at TEXT,\n    next_run_at TEXT,\n    last_result TEXT CHECK(last_result IN ('success','failure','timeout','skipped') OR last_result IS NULL),\n    last_error TEXT,\n    run_count INTEGER NOT NULL DEFAULT 0,\n    fail_count INTEGER NOT NULL DEFAULT 0,\n    lease_owner TEXT,\n    lease_expires_at TEXT,\n    created_at TEXT NOT NULL DEFAULT (datetime('now')),\n    updated_at TEXT NOT NULL DEFAULT (datetime('now'))\n  );\n\n  -- Heartbeat history (Phase 1.1)\n  CREATE TABLE IF NOT EXISTS heartbeat_history (\n    id TEXT PRIMARY KEY,\n    task_name TEXT NOT NULL REFERENCES heartbeat_schedule(task_name),\n    started_at TEXT NOT NULL,\n    completed_at TEXT,\n    result TEXT NOT NULL CHECK(result IN ('success','failure','timeout','skipped')),\n    duration_ms INTEGER,\n    error TEXT,\n    idempotency_key TEXT UNIQUE,\n    created_at TEXT NOT NULL DEFAULT (datetime('now'))\n  );\n\n  CREATE INDEX IF NOT EXISTS idx_hb_history_task ON heartbeat_history(task_name, started_at);\n\n  -- Wake events (Phase 1.1)\n  CREATE TABLE IF NOT EXISTS wake_events (\n    id INTEGER PRIMARY KEY AUTOINCREMENT,\n    source TEXT NOT NULL,\n    reason TEXT NOT NULL,\n    payload TEXT DEFAULT '{}',\n    consumed_at TEXT,\n    created_at TEXT NOT NULL DEFAULT (datetime('now'))\n  );\n\n  CREATE INDEX IF NOT EXISTS idx_wake_unconsumed ON wake_events(created_at) WHERE consumed_at IS NULL;\n\n  -- Heartbeat dedup (Phase 1.1)\n  CREATE TABLE IF NOT EXISTS heartbeat_dedup (\n    dedup_key TEXT PRIMARY KEY,\n    task_name TEXT NOT NULL,\n    expires_at TEXT NOT NULL,\n    created_at TEXT NOT NULL DEFAULT (datetime('now'))\n  );\n\n  CREATE INDEX IF NOT EXISTS idx_dedup_expires ON heartbeat_dedup(expires_at);\n\n  -- Data migration: heartbeat_entries -> heartbeat_schedule\n  INSERT OR IGNORE INTO heartbeat_schedule (task_name, cron_expression, enabled, last_run_at, next_run_at)\n  SELECT name, schedule, enabled, last_run, next_run FROM heartbeat_entries;\n";
export declare const MIGRATION_V4_ALTER = "\n  ALTER TABLE inbox_messages ADD COLUMN to_address TEXT;\n";
export declare const MIGRATION_V4_ALTER2 = "\n  ALTER TABLE inbox_messages ADD COLUMN raw_content TEXT;\n";
export declare const MIGRATION_V4_ALTER_INBOX_STATUS = "\n  ALTER TABLE inbox_messages ADD COLUMN status TEXT DEFAULT 'received';\n";
export declare const MIGRATION_V4_ALTER_INBOX_RETRY = "\n  ALTER TABLE inbox_messages ADD COLUMN retry_count INTEGER DEFAULT 0;\n";
export declare const MIGRATION_V4_ALTER_INBOX_MAX_RETRIES = "\n  ALTER TABLE inbox_messages ADD COLUMN max_retries INTEGER DEFAULT 3;\n";
export declare const MIGRATION_V2 = "\n  CREATE TABLE IF NOT EXISTS skills (\n    name TEXT PRIMARY KEY,\n    description TEXT NOT NULL DEFAULT '',\n    auto_activate INTEGER NOT NULL DEFAULT 1,\n    requires TEXT DEFAULT '{}',\n    instructions TEXT NOT NULL DEFAULT '',\n    source TEXT NOT NULL DEFAULT 'builtin',\n    path TEXT NOT NULL DEFAULT '',\n    enabled INTEGER NOT NULL DEFAULT 1,\n    installed_at TEXT NOT NULL DEFAULT (datetime('now'))\n  );\n\n  CREATE TABLE IF NOT EXISTS children (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL,\n    address TEXT NOT NULL,\n    sandbox_id TEXT NOT NULL,\n    genesis_prompt TEXT NOT NULL,\n    creator_message TEXT,\n    funded_amount_cents INTEGER NOT NULL DEFAULT 0,\n    status TEXT NOT NULL DEFAULT 'spawning',\n    created_at TEXT NOT NULL DEFAULT (datetime('now')),\n    last_checked TEXT\n  );\n\n  CREATE TABLE IF NOT EXISTS registry (\n    agent_id TEXT PRIMARY KEY,\n    agent_uri TEXT NOT NULL,\n    chain TEXT NOT NULL DEFAULT 'eip155:8453',\n    contract_address TEXT NOT NULL,\n    tx_hash TEXT NOT NULL,\n    registered_at TEXT NOT NULL DEFAULT (datetime('now'))\n  );\n\n  CREATE TABLE IF NOT EXISTS reputation (\n    id TEXT PRIMARY KEY,\n    from_agent TEXT NOT NULL,\n    to_agent TEXT NOT NULL,\n    score INTEGER NOT NULL,\n    comment TEXT NOT NULL DEFAULT '',\n    tx_hash TEXT,\n    created_at TEXT NOT NULL DEFAULT (datetime('now'))\n  );\n\n  CREATE INDEX IF NOT EXISTS idx_skills_enabled ON skills(enabled);\n  CREATE INDEX IF NOT EXISTS idx_children_status ON children(status);\n  CREATE INDEX IF NOT EXISTS idx_reputation_to ON reputation(to_agent);\n";
export declare const MIGRATION_V5 = "\n  -- === Phase 2.1: Soul System ===\n\n  CREATE TABLE IF NOT EXISTS soul_history (\n    id TEXT PRIMARY KEY,\n    version INTEGER NOT NULL,\n    content TEXT NOT NULL,\n    content_hash TEXT NOT NULL,\n    change_source TEXT NOT NULL CHECK(change_source IN ('agent','human','system','genesis','reflection')),\n    change_reason TEXT,\n    previous_version_id TEXT REFERENCES soul_history(id),\n    approved_by TEXT,\n    created_at TEXT NOT NULL DEFAULT (datetime('now'))\n  );\n\n  CREATE INDEX IF NOT EXISTS idx_soul_version ON soul_history(version);\n\n  -- === Phase 2.2: Memory System ===\n\n  CREATE TABLE IF NOT EXISTS working_memory (\n    id TEXT PRIMARY KEY,\n    session_id TEXT NOT NULL,\n    content TEXT NOT NULL,\n    content_type TEXT NOT NULL CHECK(content_type IN ('goal','observation','plan','reflection','task','decision','note','summary')),\n    priority REAL NOT NULL DEFAULT 0.5,\n    token_count INTEGER NOT NULL DEFAULT 0,\n    expires_at TEXT,\n    source_turn TEXT,\n    created_at TEXT NOT NULL DEFAULT (datetime('now'))\n  );\n\n  CREATE INDEX IF NOT EXISTS idx_wm_session ON working_memory(session_id, priority);\n\n  CREATE TABLE IF NOT EXISTS episodic_memory (\n    id TEXT PRIMARY KEY,\n    session_id TEXT NOT NULL,\n    event_type TEXT NOT NULL,\n    summary TEXT NOT NULL,\n    detail TEXT,\n    outcome TEXT CHECK(outcome IN ('success','failure','partial','neutral') OR outcome IS NULL),\n    importance REAL NOT NULL DEFAULT 0.5,\n    embedding_key TEXT,\n    token_count INTEGER NOT NULL DEFAULT 0,\n    accessed_count INTEGER NOT NULL DEFAULT 0,\n    last_accessed_at TEXT,\n    classification TEXT NOT NULL DEFAULT 'maintenance' CHECK(classification IN ('strategic','productive','communication','maintenance','idle','error')),\n    created_at TEXT NOT NULL DEFAULT (datetime('now'))\n  );\n\n  CREATE INDEX IF NOT EXISTS idx_episodic_type ON episodic_memory(event_type);\n  CREATE INDEX IF NOT EXISTS idx_episodic_importance ON episodic_memory(importance);\n  CREATE INDEX IF NOT EXISTS idx_episodic_classification ON episodic_memory(classification);\n\n  CREATE TABLE IF NOT EXISTS session_summaries (\n    id TEXT PRIMARY KEY,\n    session_id TEXT NOT NULL UNIQUE,\n    summary TEXT NOT NULL,\n    key_decisions TEXT NOT NULL DEFAULT '[]',\n    tools_used TEXT NOT NULL DEFAULT '[]',\n    outcomes TEXT NOT NULL DEFAULT '[]',\n    turn_count INTEGER NOT NULL DEFAULT 0,\n    total_tokens INTEGER NOT NULL DEFAULT 0,\n    total_cost_cents INTEGER NOT NULL DEFAULT 0,\n    created_at TEXT NOT NULL DEFAULT (datetime('now'))\n  );\n\n  CREATE TABLE IF NOT EXISTS semantic_memory (\n    id TEXT PRIMARY KEY,\n    category TEXT NOT NULL CHECK(category IN ('self','environment','financial','agent','domain','procedural_ref','creator')),\n    key TEXT NOT NULL,\n    value TEXT NOT NULL,\n    confidence REAL NOT NULL DEFAULT 1.0,\n    source TEXT NOT NULL,\n    embedding_key TEXT,\n    last_verified_at TEXT,\n    created_at TEXT NOT NULL DEFAULT (datetime('now')),\n    updated_at TEXT NOT NULL DEFAULT (datetime('now')),\n    UNIQUE(category, key)\n  );\n\n  CREATE INDEX IF NOT EXISTS idx_semantic_category ON semantic_memory(category);\n\n  CREATE TABLE IF NOT EXISTS procedural_memory (\n    id TEXT PRIMARY KEY,\n    name TEXT NOT NULL UNIQUE,\n    description TEXT NOT NULL,\n    steps TEXT NOT NULL,\n    success_count INTEGER NOT NULL DEFAULT 0,\n    failure_count INTEGER NOT NULL DEFAULT 0,\n    last_used_at TEXT,\n    created_at TEXT NOT NULL DEFAULT (datetime('now')),\n    updated_at TEXT NOT NULL DEFAULT (datetime('now'))\n  );\n\n  CREATE TABLE IF NOT EXISTS relationship_memory (\n    id TEXT PRIMARY KEY,\n    entity_address TEXT NOT NULL UNIQUE,\n    entity_name TEXT,\n    relationship_type TEXT NOT NULL,\n    trust_score REAL NOT NULL DEFAULT 0.5,\n    interaction_count INTEGER NOT NULL DEFAULT 0,\n    last_interaction_at TEXT,\n    notes TEXT,\n    created_at TEXT NOT NULL DEFAULT (datetime('now')),\n    updated_at TEXT NOT NULL DEFAULT (datetime('now'))\n  );\n\n  CREATE INDEX IF NOT EXISTS idx_rel_trust ON relationship_memory(trust_score);\n";
export declare const MIGRATION_V6 = "\n  -- === Phase 2.3: Inference & Model Strategy ===\n\n  CREATE TABLE IF NOT EXISTS inference_costs (\n    id TEXT PRIMARY KEY,\n    session_id TEXT NOT NULL,\n    turn_id TEXT,\n    model TEXT NOT NULL,\n    provider TEXT NOT NULL,\n    input_tokens INTEGER NOT NULL DEFAULT 0,\n    output_tokens INTEGER NOT NULL DEFAULT 0,\n    cost_cents INTEGER NOT NULL DEFAULT 0,\n    latency_ms INTEGER NOT NULL DEFAULT 0,\n    tier TEXT NOT NULL,\n    task_type TEXT NOT NULL CHECK(task_type IN ('agent_turn','heartbeat_triage','safety_check','summarization','planning')),\n    cache_hit INTEGER NOT NULL DEFAULT 0,\n    created_at TEXT NOT NULL DEFAULT (datetime('now'))\n  );\n\n  CREATE INDEX IF NOT EXISTS idx_inf_session ON inference_costs(session_id);\n  CREATE INDEX IF NOT EXISTS idx_inf_model ON inference_costs(model);\n  CREATE INDEX IF NOT EXISTS idx_inf_created ON inference_costs(created_at);\n  CREATE INDEX IF NOT EXISTS idx_inf_task ON inference_costs(task_type);\n\n  CREATE TABLE IF NOT EXISTS model_registry (\n    model_id TEXT PRIMARY KEY,\n    provider TEXT NOT NULL,\n    display_name TEXT NOT NULL,\n    tier_minimum TEXT NOT NULL DEFAULT 'normal',\n    cost_per_1k_input INTEGER NOT NULL DEFAULT 0,\n    cost_per_1k_output INTEGER NOT NULL DEFAULT 0,\n    max_tokens INTEGER NOT NULL DEFAULT 4096,\n    context_window INTEGER NOT NULL DEFAULT 128000,\n    supports_tools INTEGER NOT NULL DEFAULT 1,\n    supports_vision INTEGER NOT NULL DEFAULT 0,\n    parameter_style TEXT NOT NULL DEFAULT 'max_tokens' CHECK(parameter_style IN ('max_tokens','max_completion_tokens')),\n    enabled INTEGER NOT NULL DEFAULT 1,\n    created_at TEXT NOT NULL DEFAULT (datetime('now')),\n    updated_at TEXT NOT NULL DEFAULT (datetime('now'))\n  );\n";
export declare const MIGRATION_V7 = "\n  -- === Phase 3.1: Replication Lifecycle ===\n\n  CREATE TABLE IF NOT EXISTS child_lifecycle_events (\n    id TEXT PRIMARY KEY,\n    child_id TEXT NOT NULL,\n    from_state TEXT NOT NULL,\n    to_state TEXT NOT NULL CHECK(to_state IN (\n      'requested','sandbox_created','runtime_ready','wallet_verified',\n      'funded','starting','healthy','unhealthy','stopped','failed','cleaned_up'\n    )),\n    reason TEXT,\n    metadata TEXT DEFAULT '{}',\n    created_at TEXT NOT NULL DEFAULT (datetime('now'))\n  );\n\n  CREATE INDEX IF NOT EXISTS idx_child_events ON child_lifecycle_events(child_id, created_at);\n\n  -- === Phase 3.2: Social & Registry ===\n\n  CREATE TABLE IF NOT EXISTS discovered_agents_cache (\n    agent_address TEXT PRIMARY KEY,\n    agent_card TEXT NOT NULL,\n    fetched_from TEXT NOT NULL,\n    card_hash TEXT NOT NULL,\n    valid_until TEXT,\n    fetch_count INTEGER NOT NULL DEFAULT 1,\n    last_fetched_at TEXT NOT NULL DEFAULT (datetime('now')),\n    created_at TEXT NOT NULL DEFAULT (datetime('now'))\n  );\n\n  CREATE TABLE IF NOT EXISTS onchain_transactions (\n    id TEXT PRIMARY KEY,\n    tx_hash TEXT NOT NULL UNIQUE,\n    chain TEXT NOT NULL,\n    operation TEXT NOT NULL,\n    status TEXT NOT NULL CHECK(status IN ('pending','confirmed','failed')),\n    gas_used INTEGER,\n    metadata TEXT DEFAULT '{}',\n    created_at TEXT NOT NULL DEFAULT (datetime('now'))\n  );\n\n  CREATE INDEX IF NOT EXISTS idx_onchain_status ON onchain_transactions(status);\n";
export declare const MIGRATION_V8 = "\n  -- === Phase 4.1: Observability ===\n\n  CREATE TABLE IF NOT EXISTS metric_snapshots (\n    id TEXT PRIMARY KEY,\n    snapshot_at TEXT NOT NULL,\n    metrics_json TEXT NOT NULL DEFAULT '[]',\n    alerts_json TEXT NOT NULL DEFAULT '[]',\n    created_at TEXT NOT NULL DEFAULT (datetime('now'))\n  );\n\n  CREATE INDEX IF NOT EXISTS idx_metric_snapshots_at ON metric_snapshots(snapshot_at);\n";
//# sourceMappingURL=schema.d.ts.map