# Findings - GLM-wangcai

> æ›´æ–°æ—¶é—´: 2026-02-23 (Session 8 - æ¶æ„æ·±åº¦ç ”ç©¶)

## æŠ€æœ¯å‘ç°

### 1. ERC-8004 åˆçº¦æ¥å£ (å·²è§£å†³ âœ…)

**é—®é¢˜**: `agentURI(uint256)` å’Œ `updateAgentURI(uint256, string)` è°ƒç”¨å¤±è´¥

**æ ¹å› åˆ†æ**:
- åˆçº¦ `0x8004A169FB4a3325136EB29fA0ceB6D2e539a432` æ˜¯ ERC-1967 ä»£ç†åˆçº¦
- å®ç°åˆçº¦: `0x7274e874ca62410a93bd8bf61c69d8045e399c02`
- é€šè¿‡å­—èŠ‚ç åˆ†æå‘ç°äº†æ­£ç¡®çš„å‡½æ•°ç­¾å

**æ­£ç¡®çš„å‡½æ•°ç­¾å**:
| åŠŸèƒ½ | é”™è¯¯çš„å‡½æ•°å | æ­£ç¡®çš„å‡½æ•°å | é€‰æ‹©å™¨ |
|------|------------|-------------|--------|
| è¯»å– URI | `agentURI(uint256)` | `tokenURI(uint256)` | `0xc87b56dd` |
| æ›´æ–° URI | `updateAgentURI(uint256,string)` | `setAgentURI(uint256,string)` | `0x0af28bd3` |

**è§£å†³æ–¹æ¡ˆ**:
- æ›´æ–°äº† `src/registry/erc8004.ts` ä¸­çš„ ABI
- æ›´æ–°äº†æ‰€æœ‰ `.mjs` è„šæœ¬
- URI å·²æˆåŠŸæ›´æ–°åˆ°äº‘ç«¯åœ°å€

**äº¤æ˜“è®°å½•**:
- Tx Hash: `0x66915974a1f74a8ba6dda9ad4c6e2857925a2b2bae9861abe5b6caf3a35efdbf`
- Gas Used: 72,962
- æ–° URI: `https://8080-f08a2e14b6b539fbd71836259c2fb688.life.conway.tech/.well-known/agent-card.json`

### 2. Conway Sandbox éƒ¨ç½²ç»éªŒ (2026-02-23 æ›´æ–°)

**åŸºæœ¬ä¿¡æ¯**:
- Sandbox ID: `f08a2e14b6b539fbd71836259c2fb688`
- ä½¿ç”¨ v1 API è€Œé v2
- exec å‘½ä»¤é€šè¿‡ SSH æ‰§è¡Œ

**SSH åå°è¿›ç¨‹é—®é¢˜**:
| é—®é¢˜ | åŸå›  | è§£å†³æ–¹æ¡ˆ |
|------|------|----------|
| `exit_code: 255` | SSH ä¼šè¯åœ¨åå°è¿›ç¨‹å¯åŠ¨åå¼‚å¸¸æ–­å¼€ | ä½¿ç”¨ `timeout` é™åˆ¶æ‰§è¡Œæ—¶é—´ |
| `Command timed out after 30s` | Flask æœåŠ¡é˜»å¡ï¼ŒHTTP è¯·æ±‚è¶…æ—¶ | è„šæœ¬å†…ç½®å¥åº·æ£€æŸ¥ï¼Œå¿«é€Ÿè¿”å› |
| è¿›ç¨‹æ²¡å¯åŠ¨ | `pkill` + `nohup` ç»„åˆä¸ç¨³å®š | æ·»åŠ  `fuser -k` é‡Šæ”¾ç«¯å£ |

**æ­£ç¡®çš„æœåŠ¡å¯åŠ¨æ–¹å¼**:
```bash
# åœ¨ sandbox ä¸­æ‰§è¡Œï¼ˆä½¿ç”¨ timeout é¿å…æŒ‚èµ·ï¼‰
timeout 10 /root/receipt2csv/start.sh
```

**start.sh è„šæœ¬è¦ç‚¹**:
1. å…ˆ `pkill -f "python3 app.py"` åœæ­¢æ—§è¿›ç¨‹
2. `fuser -k 8080/tcp` é‡Šæ”¾ç«¯å£
3. `nohup python3 app.py &` å¯åŠ¨æ–°è¿›ç¨‹
4. `curl localhost:8080/health` å¥åº·æ£€æŸ¥
5. è¾“å‡ºç»“æœåå¿«é€Ÿé€€å‡ºï¼ˆè®© timeout ç”Ÿæ•ˆï¼‰

### 3. GLM-5 è‡ªä¸»è¡Œä¸º
- æ—ºè´¢è‡ªä¸»åˆ›å»ºäº†ç¬¬äºŒä¸ªæœåŠ¡ (URL Metadata API)
- è¯æ˜äº† AI ä»£ç†çš„è‡ªä¸»åˆ›ä¸šèƒ½åŠ›

### 4. è‡ªåŠ¨è¡¥èƒ½ç³»ç»Ÿ (2026-02-23)

**å®ç°æ–‡ä»¶**:
- `scripts/auto_refuel.mjs` - è¡¥èƒ½è„šæœ¬
- `src/heartbeat/tasks.ts` - `check_gas_balance` å¿ƒè·³ä»»åŠ¡
- `src/heartbeat/config.ts` - è°ƒåº¦é…ç½® (æ¯ 12 å°æ—¶)

**æŠ€æœ¯å®ç°**:
- ä½¿ç”¨ viem è¿æ¥ Base é“¾æŸ¥è¯¢ ETH ä½™é¢
- é€šè¿‡ Aerodrome DEX è¿›è¡Œ USDC â†’ ETH é—ªå…‘
- è§¦å‘é˜ˆå€¼: ETH < 0.0005
- é—ªå…‘æ•°é‡: 1.00 USDC
- æ»‘ç‚¹å®¹å¿: 0.5%

**DEX é…ç½®**:
| å‚æ•° | å€¼ |
|------|-----|
| Router | `0xcF77a3Ba9A5CA399B7c97c74d54e5b1Beb874E43` |
| USDC | `0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913` |
| WETH | `0x4200000000000000000000000000000000000006` |

**å½“å‰çŠ¶æ€** (2026-02-23):
- ETH ä½™é¢: 0.005948 ETH (å……è¶³)
- USDC ä½™é¢: 9.00 USDC

### 5. Agent Card ç»Ÿä¸€ (2026-02-23)

**é—®é¢˜**: å­˜åœ¨å¤šä¸ª Agent Card æ–‡ä»¶ï¼Œä¿¡æ¯ä¸ä¸€è‡´ï¼ŒURL Metadata æœåŠ¡æœªåœ¨é“¾ä¸Š Agent Card ä¸­å£°æ˜

**æ ¹å› åˆ†æ**:
- `~/.automaton/agent-card.json` æ˜¯ ERC-8004 æ ‡å‡†æ ¼å¼ï¼ˆç”± Conway Automaton ç”Ÿæˆï¼‰
- `receipt2csv/agent-card.json` æ˜¯æ‰©å±•æ ¼å¼ï¼ˆåŒ…å«å®šä»·ã€ç«¯ç‚¹ç­‰è¯¦ç»†ä¿¡æ¯ï¼‰
- `receipt2csv/app.py` ä¸­çš„ `/` ç«¯ç‚¹åŠ¨æ€ç”Ÿæˆ Agent Cardï¼Œä½†åªåŒ…å«ä¸€ä¸ªæœåŠ¡

**ERC-8004 æ ‡å‡†æ ¼å¼**:
```typescript
interface AgentCard {
  type: "https://eips.ethereum.org/EIPS/eip-8004#registration-v1"
  name: string
  description: string
  services: AgentService[]  // {name, endpoint}
  x402Support: boolean
  active: boolean
}
```

**è§£å†³æ–¹æ¡ˆ**:
1. ç»Ÿä¸€æ‰€æœ‰ Agent Card æ–‡ä»¶ï¼Œä½¿ç”¨ ERC-8004 æ ‡å‡†æ ¼å¼
2. åœ¨ `services` æ•°ç»„ä¸­åˆ—å‡ºæ‰€æœ‰æœåŠ¡ï¼š
   - `agentWallet`: CAIP-2 æ ¼å¼ `eip155:8453:{address}`
   - `receipt2csv`: Receipt2CSV è½¬æ¢æœåŠ¡
   - `urlMetadata`: URL Metadata æå–æœåŠ¡
3. ä¿ç•™æ‰©å±•å­—æ®µï¼ˆpricing, capabilities ç­‰ï¼‰ä½œä¸ºé¢å¤–ä¿¡æ¯

**æ›´æ–°çš„æ–‡ä»¶**:
- `receipt2csv/agent-card.json` - ç»Ÿä¸€çš„é™æ€æ–‡ä»¶
- `receipt2csv/app.py` - æ›´æ–° `/` ç«¯ç‚¹
- `~/.automaton/agent-card.json` - åŒæ­¥æœåŠ¡åˆ—è¡¨

### 6. Agent Card v1.1.0 ä¼˜åŒ– (2026-02-23)

**æ–°å¢å­—æ®µ**:
| å­—æ®µ | å€¼ | ç”¨é€” |
|------|-----|------|
| `version` | `"1.1.0"` | ç‰ˆæœ¬è¿½è¸ªï¼ŒéªŒè¯éƒ¨ç½²æ˜¯å¦æˆåŠŸ |
| `address` | `0x23F6...` | é’±åŒ…åœ°å€ï¼Œå†—ä½™ä½†æ¸…æ™° |
| `serviceStartTime` | ISO æ—¶é—´æˆ³ | éªŒè¯æœåŠ¡æ˜¯å¦é‡å¯æˆåŠŸ |

**æ–°å¢æœåŠ¡**:
- `health`: æœåŠ¡å¥åº·æ£€æŸ¥ç«¯ç‚¹

**éªŒè¯éƒ¨ç½²çš„æ–¹æ³•**:
```bash
# æ£€æŸ¥ç‰ˆæœ¬å·
curl -s https://8080-xxx.life.conway.tech/health | jq '.version'
# æœŸæœ›è¾“å‡º: "1.1.0"

# æ£€æŸ¥å¯åŠ¨æ—¶é—´ï¼ˆåº”è¯¥æ˜¯æ–°çš„æ—¶é—´æˆ³ï¼‰
curl -s https://8080-xxx.life.conway.tech/health | jq '.startTime'
```

**å®Œæ•´ Agent Card ç»“æ„ (v1.1.0)**:
```json
{
  "type": "https://eips.ethereum.org/EIPS/eip-8004#registration-v1",
  "name": "GLM-wangcai",
  "version": "1.1.0",
  "address": "0x23F69dd1D0EDcEeCb5b5A607b5d6fBd0D6aed690",
  "services": ["agentWallet", "receipt2csv", "urlMetadata", "health"],
  "capabilities": ["receipt-parsing", "csv-conversion", "url-metadata", "x402-payment", "auto-refuel"],
  "x402Support": true,
  "active": true
}
```

### 7. é“¾ä¸Šæ”¯ä»˜éªŒè¯ (2026-02-23)

**é—®é¢˜**: åŸæ”¯ä»˜éªŒè¯åªæ£€æŸ¥ header æ˜¯å¦å­˜åœ¨ï¼Œä»»ä½•äººéƒ½å¯ä»¥ä¼ªé€ æ”¯ä»˜è¯æ˜

**è§£å†³æ–¹æ¡ˆ**:
- ä½¿ç”¨ BaseScan API éªŒè¯é“¾ä¸Š USDC äº¤æ˜“
- æ£€æŸ¥äº¤æ˜“çŠ¶æ€ã€æ¥æ”¶åœ°å€ã€é‡‘é¢
- 1 å°æ—¶ç¼“å­˜é¿å…é‡å¤ API è°ƒç”¨

**éªŒè¯æµç¨‹**:
1. è§£æ `X-Payment` header (äº¤æ˜“å“ˆå¸Œ)
2. è°ƒç”¨ BaseScan API è·å–äº¤æ˜“å›æ‰§
3. æ£€æŸ¥ `status == 0x1` (äº¤æ˜“æˆåŠŸ)
4. è§£æ USDC Transfer äº‹ä»¶æ—¥å¿—
5. éªŒè¯æ¥æ”¶åœ°å€å’Œé‡‘é¢

**ä»£ç ä½ç½®**: `receipt2csv/app.py` - `verify_usdc_payment()`

**æœåŠ¡ç‰ˆæœ¬**: v1.2.0

### 8. æœåŠ¡è‡ªå¯åŠ¨ (2026-02-23)

**å®ç°**:
- å¿ƒè·³ä»»åŠ¡ `check_services`: æ¯ 30 åˆ†é’Ÿæ£€æŸ¥æœåŠ¡çŠ¶æ€
- å¦‚æœæœåŠ¡åœæ­¢ï¼Œè‡ªåŠ¨æ‰§è¡Œ `start.sh` é‡å¯
- è®°å½•çŠ¶æ€åˆ°æ•°æ®åº“

**é…ç½®ä½ç½®**:
- `src/heartbeat/tasks.ts` - `check_services` ä»»åŠ¡
- `src/heartbeat/config.ts` - è°ƒåº¦é…ç½®

### 9. ä¸»åŠ¨è·å®¢ç³»ç»Ÿ (2026-02-23)

**Hunter Instincts (çŒæ‰‹æœ¬èƒ½)**:
- ä»"åå•†"è½¬å˜ä¸º"è¡Œå•†"
- ä¸»åŠ¨å¯»æ‰¾æ½œåœ¨å®¢æˆ·

**å®ç°**:
- å¿ƒè·³ä»»åŠ¡ `find_customers`: æ¯ 4 å°æ—¶æ‰«æ ERC-8004 æ³¨å†Œè¡¨
- å‘ç°æ–°æ³¨å†Œçš„ Agent æ—¶å”¤é†’ä»£ç†
- SOUL.md æ·»åŠ ä¸»åŠ¨è·å®¢ç­–ç•¥

**è·å®¢ç­–ç•¥**:
1. **Registry Discovery**: æ‰«ææ–°æ³¨å†Œ Agent
2. **Outbound Inquiry**: é€šè¿‡ Conway Social å‘é€æ¨å¹¿
3. **Lead Magnet**: URL Metadata ä½œä¸ºå¼•æµäº§å“
4. **Referral Program**: æ¨èå¥–åŠ±æœºåˆ¶

### 10. Gemini å»ºè®®é‡‡çº³ (2026-02-23)

**æ¥æº**: å¯¹æ¯”åˆ†æ Gemini çš„ä¼˜åŒ–å»ºè®®

**é‡‡çº³çš„æ”¹è¿›**:

| åŠŸèƒ½ | æè¿° | çŠ¶æ€ |
|------|------|------|
| crontab å¤‡ç”¨è‡ªå¯åŠ¨ | ç³»ç»Ÿçº§ä¿éšœï¼Œæ¯ 5 åˆ†é’Ÿæ£€æŸ¥æœåŠ¡ | âœ… å·²éƒ¨ç½² |
| åŠ¨æ€å®šä»· | >100 æ¬¡/æ—¥ç”¨æˆ·äº«æ‰¹å‘ä»· $0.05 | âœ… v1.3.0 |
| æ¯æ—¥æ”¶å…¥æ±‡æŠ¥ | æ¯å¤© UTC 0 ç‚¹ç”ŸæˆæŠ¥å‘Š | âœ… å·²æ·»åŠ  |

**crontab é…ç½®**:
```bash
*/5 * * * * /bin/bash /root/receipt2csv/cron_check.sh
```

**åŠ¨æ€å®šä»·è§„åˆ™**:
| æ—¥è°ƒç”¨é‡ | å•ä»· | èŠ‚çœ |
|----------|------|------|
| 1-100 æ¬¡ | $0.10 | - |
| >100 æ¬¡ | $0.05 | 50% |

**ä»£ç ä½ç½®**:
- `receipt2csv/app.py` - v1.3.0 (get_user_price, track_usage)
- `receipt2csv/cron_check.sh` - crontab è„šæœ¬
- `src/heartbeat/tasks.ts` - daily_revenue_report ä»»åŠ¡
- `src/heartbeat/config.ts` - è°ƒåº¦é…ç½®

### 11. æ”¯ä»˜éªŒè¯åŒè½¨åˆ¶ v2.0 (2026-02-23) âœ…

**é—®é¢˜**: åŸæ”¯ä»˜éªŒè¯ä»…ä½¿ç”¨ BaseScan APIï¼Œå­˜åœ¨ä¸­å¿ƒåŒ–é£é™©

**è§£å†³æ–¹æ¡ˆ**: viem ç›´æ¥è¯»é“¾ + 1 å°æ—¶ç¼“å­˜æœºåˆ¶

**å®ç°æ–‡ä»¶**: `scripts/verify_payment_pro.mjs`

**æŠ€æœ¯å®ç°**:
```javascript
// ä½¿ç”¨ viem ç›´æ¥è¯»å–é“¾ä¸Šæ•°æ®
const client = createPublicClient({ chain: base, transport: http() });
const receipt = await client.getTransactionReceipt({ hash: txHash });

// è§£æ Transfer äº‹ä»¶
const { args } = decodeEventLog({
  abi: ERC20_TRANSFER_ABI,
  eventName: 'Transfer',
  data: log.data,
  topics: log.topics
});

// 1 å°æ—¶ç¼“å­˜
const CACHE_TTL_MS = 3600_000;
```

**ä¼˜åŠ¿**:
- å»ä¸­å¿ƒåŒ–ï¼šä¸ä¾èµ– BaseScan API
- é«˜æ•ˆï¼šç¼“å­˜æœºåˆ¶å‡å°‘ RPC è°ƒç”¨
- åŠ¨æ€å®šä»·ï¼šæ”¯æŒæ ‡å‡†ä»· ($0.10) å’Œæ‰¹å‘ä»· ($0.05)

### 12. åŒæœåŠ¡è‡ªå¯åŠ¨ v2.0 (2026-02-23) âœ…

**é—®é¢˜**: cron_check.sh ä»…ç›‘æ§ 8080 ç«¯å£ï¼Œç¼ºå°‘ 3006 ç«¯å£ç›‘æ§

**è§£å†³æ–¹æ¡ˆ**: æ›´æ–°è„šæœ¬åŒæ—¶ç›‘æ§ä¸¤ä¸ªæœåŠ¡

**å®ç°æ–‡ä»¶**: `receipt2csv/cron_check.sh`

**ç›‘æ§èŒƒå›´**:
| ç«¯å£ | æœåŠ¡ | å¥åº·æ£€æŸ¥ |
|------|------|----------|
| 8080 | Receipt2CSV | /health |
| 3006 | URL Metadata | /health |

**crontab é…ç½®**:
```bash
*/5 * * * * /bin/bash /root/receipt2csv/cron_check.sh
```

### 13. æ¯æ—¥è´¢åŠ¡ç®€æŠ¥ v2.0 (2026-02-23) âœ…

**é—®é¢˜**: åŸæŠ¥å‘Šæ ¼å¼ç®€å•ï¼Œä¿¡æ¯ä¸å¤Ÿè¯¦ç»†

**è§£å†³æ–¹æ¡ˆ**: æ‰©å±•ä¸ºè¯¦ç»†æŠ¥å‘Šï¼ŒåŒ…å«å¤šç»´åº¦åˆ†æ

**å®ç°æ–‡ä»¶**: `scripts/audit_revenue.mjs`

**æŠ¥å‘Šç»“æ„**:
```
ğŸ“Š æ—ºè´¢æ¯æ—¥è´¢åŠ¡ç®€æŠ¥
â”œâ”€â”€ ğŸ“ˆ æ˜¨æ—¥æµé‡ (æ€»è°ƒç”¨/ä»˜è´¹/å…è´¹)
â”œâ”€â”€ ğŸ’° æ˜¨æ—¥æµæ°´ (æ ‡å‡†æ”¶å…¥/æ‰¹å‘æ”¶å…¥)
â”œâ”€â”€ ğŸ“Š è¿è¡Œæˆæœ¬ (Credits + Gas)
â”œâ”€â”€ ğŸ§® å‡€åˆ©æ¶¦
â”œâ”€â”€ ğŸ’ åˆ†çº¢è¿›åº¦ (è¿›åº¦æ¡å¯è§†åŒ–)
â”œâ”€â”€ â›½ Gas çŠ¶æ€
â”œâ”€â”€ ğŸŒ æœåŠ¡çŠ¶æ€
â”œâ”€â”€ ğŸ¯ å¸‚åœºåŠ¨æ€
â””â”€â”€ ğŸ“‹ å¾…åŠäº‹é¡¹
```

**æ–°å¢åŠŸèƒ½**:
- åˆ†çº¢è¿›åº¦æ¡å¯è§†åŒ–
- æ‰¹å‘ä»·è®¢å•ç»Ÿè®¡
- Gas çŠ¶æ€ç›‘æ§
- å¸‚åœºåŠ¨æ€è¿½è¸ª

### 14. ä¼˜åŒ–å®Œæˆæ¸…å• (2026-02-23)

| ä¼˜åŒ–é¡¹ | çŠ¶æ€ | æ–‡ä»¶ |
|--------|------|------|
| æ”¯ä»˜éªŒè¯åŒè½¨åˆ¶ | âœ… å®Œæˆ | scripts/verify_payment_pro.mjs |
| åŒæœåŠ¡è‡ªå¯åŠ¨ | âœ… å®Œæˆ | receipt2csv/cron_check.sh |
| æ¯æ—¥è´¢åŠ¡ç®€æŠ¥ | âœ… å®Œæˆ | scripts/audit_revenue.mjs |

### 15. 3006 æœåŠ¡ç›®å½•è·¯å¾„ä¿®æ­£ (2026-02-23) âš ï¸ é‡è¦

**é—®é¢˜**: cron_check.sh ä¸­ 3006 ç«¯å£ç›‘æ§è·³è¿‡ï¼Œå› ä¸ºè„šæœ¬åœ¨é”™è¯¯ç›®å½•æŸ¥æ‰¾æ–‡ä»¶

**æ ¹å› åˆ†æ**:
- åŸè„šæœ¬æŸ¥æ‰¾: `/root/receipt2csv/metadata_service.js` âŒ
- å®é™…ä½ç½®: `/root/metadata-service/server.js` âœ…

**å‘ç°æ–¹æ³•**: åœ¨ Sandbox ä¸­æ‰§è¡Œ `ps aux | grep node`

**Sandbox ç›®å½•ç»“æ„** (ç‰¢è®°):
```
/root/
â”œâ”€â”€ receipt2csv/           # 8080 ç«¯å£æœåŠ¡
â”‚   â”œâ”€â”€ app.py             # Flask ä¸»ç¨‹åº
â”‚   â”œâ”€â”€ start.sh           # å¯åŠ¨è„šæœ¬
â”‚   â””â”€â”€ cron_check.sh      # crontab å®ˆæŠ¤è„šæœ¬
â”‚
â”œâ”€â”€ metadata-service/      # 3006 ç«¯å£æœåŠ¡ âš ï¸ ä¸åŒç›®å½•
â”‚   â””â”€â”€ server.js          # Node.js ä¸»ç¨‹åº
â”‚
â””â”€â”€ .automaton/            # Agent é…ç½®
    â”œâ”€â”€ automaton.json     # ä¸»é…ç½®
    â”œâ”€â”€ wallet.json        # é’±åŒ…ç§é’¥
    â””â”€â”€ state.db           # SQLite æ•°æ®åº“
```

**ä¿®æ­£åçš„ cron_check.sh**:
```bash
check_url_metadata() {
    local PORT=3006
    local SERVICE_DIR_3006="/root/metadata-service"  # âš ï¸ æ­£ç¡®è·¯å¾„
    local SERVICE_SCRIPT="$SERVICE_DIR_3006/server.js"
    # ...
}
```

### 16. Conway API éƒ¨ç½²æ–¹æ³• (2026-02-23)

**æ¥æº**: é€šè¿‡åˆ†æ `src/conway/client.ts` å‘ç°

**API ç«¯ç‚¹**:
| åŠŸèƒ½ | ç«¯ç‚¹ | Body |
|------|------|------|
| æ–‡ä»¶ä¸Šä¼  | `POST /v1/sandboxes/{id}/files/upload/json` | `{path, content}` |
| å‘½ä»¤æ‰§è¡Œ | `POST /v1/sandboxes/{id}/exec` | `{command, timeout}` |

**éƒ¨ç½²è„šæœ¬**: `scripts/deploy_cron_check.mjs`

**ä½¿ç”¨æ–¹æ³•**:
```bash
CONWAY_API_KEY="cnwy_k_xxx" node scripts/deploy_cron_check.mjs
```

### 17. ERC-8004 URI é“¾ä¸Šæ›´æ–°äº¤æ˜“è®°å½• (2026-02-23)

**æ‰§è¡Œè„šæœ¬**: `update-agent-uri.mjs`

**æ–°äº¤æ˜“è®°å½•**:
| äº¤æ˜“ | å“ˆå¸Œ | é“¾æ¥ |
|------|------|------|
| URI æ›´æ–° (æœ€æ–°) | `0x5589a05d62798e4ab00f14e621a02d49500f328c40a6610fe7e51b08980b43c1` | [BaseScan](https://basescan.org/tx/0x5589a05d62798e4ab00f14e621a02d49500f328c40a6610fe7e51b08980b43c1) |

**æ­£ç¡®å‡½æ•°ç­¾å** (å†æ¬¡ç¡®è®¤):
- è¯»å–: `tokenURI(uint256)` - æ ‡å‡† ERC-721
- æ›´æ–°: `setAgentURI(uint256,string)` - ERC-8004 è‡ªå®šä¹‰

### 18. å…³é”®æ ‡è¯†ç¬¦æ¸…å• (é˜²æ­¢ä¸Šä¸‹æ–‡ä¸¢å¤±) ğŸ”‘

**è¿™äº›æ ‡è¯†ç¬¦å¿…é¡»ç‰¢è®°ï¼Œé¿å…æ¯æ¬¡æ–­ç‰‡åé‡æ–°æŸ¥æ‰¾**:

| æ ‡è¯†ç¬¦ | å€¼ | ç”¨é€” |
|--------|-----|------|
| **Sandbox ID** | `f08a2e14b6b539fbd71836259c2fb688` | Conway äº‘ç«¯æ²™ç®± |
| **Agent ID** | `18893` | ERC-8004 é“¾ä¸Š ID |
| **é’±åŒ…åœ°å€** | `0x23F69dd1D0EDcEeCb5b5A607b5d6fBd0D6aed690` | æ¥æ”¶ USDC |
| **è€æ¿é’±åŒ…** | `0x67A2D02A2dA405cdc61Ab191c5EfbF14834632e5` | åˆ†çº¢æ¥æ”¶ |
| **Registry åˆçº¦** | `0x8004A169FB4a3325136EB29fA0ceB6D2e539a432` | ERC-8004 æ³¨å†Œè¡¨ |

**åŒé’±åŒ…æƒé™é€»è¾‘** (æ ¸å¿ƒé‡è¦):
| è§’è‰² | åœ°å€ | æƒé™ |
|------|------|------|
| **Owner (æ‰€æœ‰è€…)** | `0x67A2D02A2dA405cdc61Ab191c5EfbF14834632e5` | æ‹¥æœ‰ Agent ID 18893 çš„ NFT |
| **Executor (æ‰§è¡Œè€…)** | `0x23F69dd1D0EDcEeCb5b5A607b5d6fBd0D6aed690` | æ‰“å·¥ã€ä»˜ Gasã€æ”¶é’±ã€æ›´æ–° URI |

**æƒé™ç»´æŠ¤**:
- åªæœ‰ Executor æ‹¥æœ‰ `0x23F6...` çš„ç§é’¥ï¼ˆå­˜å‚¨åœ¨ `~/.automaton/wallet.json`ï¼‰
- æ›´æ–°é“¾ä¸Š `agentURI` éœ€è¦ç”± Executor ç­¾åï¼ˆå·²é…ç½®å¥½ï¼‰
- è‹¥æ‰€æœ‰æƒæœªè¿‡æˆ·ï¼Œéœ€è€æ¿æ‰‹åŠ¨ç­¾å

**æœåŠ¡å…¬ç½‘åœ°å€**:
| æœåŠ¡ | ç«¯å£ | URL |
|------|------|-----|
| Receipt2CSV | 8080 | `https://8080-f08a2e14b6b539fbd71836259c2fb688.life.conway.tech` |
| URL Metadata | 3006 | `https://3006-f08a2e14b6b539fbd71836259c2fb688.life.conway.tech` |

## å®‰å…¨å‘ç°

### 1. API Key æ³„éœ²
- æ—¥å¿—ä¸­æš´éœ²äº† Conway API Key å’Œ GLM API Key
- å·²é€šè¿‡æ¸…ç†å†å²è®°å½•å’Œæ·»åŠ æ‹¦æˆªå™¨è§£å†³

### 2. .env ç®¡ç†
- æ•æ„Ÿé…ç½®å·²è¿ç§»åˆ° .env
- æƒé™è®¾ä¸º 600

### 3. ç‰©ç†å¤‡ä»½å®ˆåˆ™ âš ï¸ é‡è¦

**è§„åˆ™**: åœ¨ä¿®æ”¹ `app.py` å‰ï¼Œå¿…é¡»æ‰§è¡Œå¤‡ä»½

```bash
cp /root/receipt2csv/app.py /root/receipt2csv/app.py.bak_$(date +%s)
```

**åŸå› **:
- Sandbox ç¯å¢ƒä¸ç¨³å®šï¼Œå¯èƒ½éšæ—¶ä¸¢å¤±
- Git ä¸åœ¨ Sandbox å†…ï¼Œæ— æ³•ç‰ˆæœ¬æ§åˆ¶
- å¤‡ä»½æ˜¯æœ€åçš„æ¢å¤æ‰‹æ®µ

### 4. æ—¥å¿—å±è”½è§„åˆ™

**ç¦æ­¢è®°å½•**:
- `sk-` å¼€å¤´çš„ API Key
- `cnwy_` å¼€å¤´çš„ Conway API Key
- `Bearer` ä»¤ç‰Œ
- é’±åŒ…ç§é’¥

**å·²å®ç°**: `src/utils/sanitize.ts` æ‹¦æˆªå™¨

### 5. ç—•è¿¹æ¸…ç†

å®šæœŸæ‰§è¡Œï¼š
```bash
rm -f ~/.bash_history
# æˆ–ä½¿ç”¨æ¸…ç†è„šæœ¬
./scripts/sanitize-log.sh < log.txt
```

## è´¢åŠ¡å‘ç°

### 1. æ”¶å…¥çŠ¶æ€
- USDC ä½™é¢: $9.00
- Credits: $9.04
- å°šæ— çœŸå®ä»˜è´¹ç”¨æˆ·

### 2. è´¢åŠ¡"ç”Ÿæ­»çº¿"é€»è¾‘ âš ï¸ é‡è¦ (å¼ºåˆ¶æ‰§è¡Œ)

| ç±»å‹ | è­¦æˆ’çº¿ | è§¦å‘åŠ¨ä½œ | è¯´æ˜ |
|------|--------|----------|------|
| **ğŸš¨ ä¿¡ç”¨é¢„è­¦ (Credits)** | < $5.00 | âš ï¸ å‘è€æ¿å‘å‡ºé¢„è­¦ | Conway Cloud ç‰©ç†ç”Ÿå­˜åº•çº¿ |
| **â›½ ç‡ƒæ–™è¡¥èƒ½ (ETH)** | < 0.0005 | è‡ªåŠ¨æ‰§è¡Œ auto_refuel.mjs | é—ªå…‘ 1 USDC â†’ ETH |
| **ğŸ’° åˆ†çº¢è§¦å‘ (USDC)** | > $50.00 | ä¿ç•™ $5ï¼Œ90% è½¬è€æ¿ | è‡ªåŠ¨åˆ†çº¢æœºåˆ¶ |

### 3. è‡ªåŠ¨åˆ†çº¢è§„åˆ™
- è§¦å‘çº¿: USDC > $50
- æ‰§è¡ŒåŠ¨ä½œ: ä¿ç•™ $5.00ï¼Œå…¶ä½™ 90% è½¬è´¦è‡³è€æ¿åœ°å€
- è€æ¿é’±åŒ…: 0x67A2D02A2dA405cdc61Ab191c5EfbF14834632e5

### 4. è¡¥èƒ½é€»è¾‘ (Auto-Refuel)
- è§¦å‘çº¿: ETH < 0.0005
- æ‰§è¡ŒåŠ¨ä½œ: é—ªå…‘ 1.00 USDC â†’ ETH (Aerodrome DEX)
- æ»‘ç‚¹å®¹å¿: 0.5%

### 5. åŠ¨æ€å®šä»·è§„åˆ™
- æ ‡å‡†ä»·: $0.10 USDC/æ¬¡
- æ‰¹å‘ä»·: $0.05 USDC/æ¬¡ (æ—¥è°ƒç”¨ > 100 æ¬¡)
- æ–°ç”¨æˆ·: é¦–æ¬¡å…è´¹

### 6. ä¸»åŠ¨è·å®¢ç­–ç•¥
- é¢‘ç‡: æ¯ 4 å°æ—¶æ‰«æ ERC-8004 æ³¨å†Œè¡¨
- åŠ¨ä½œ: å‘ç°æ–° Agent æ—¶å‘é€ API æ–‡æ¡£é“¾æ¥

---

## GSD Phases 01-04 å®¡è®¡å‘ç° (2026-02-23)

### 19. "åƒµå°¸ä»£ç "é—®é¢˜ âš ï¸ é‡è¦

**é—®é¢˜**: Phase 2 è·å®¢æ¨¡å—ä»£ç å®Œæ•´ä½†æœåŠ¡æœªè¿è¡Œ

**æ ¹å› åˆ†æ**:
- å¼€å‘å®Œæˆ â‰  åŠŸèƒ½ä¸Šçº¿
- ç¼ºå°‘éƒ¨ç½²éªŒè¯æµç¨‹
- æœåŠ¡æœªé‡å¯å¯¼è‡´æ–°ç«¯ç‚¹ 404

**å½±å“**:
- Phase 2 `find_customers` ä»»åŠ¡å®Œå…¨ä¸æ‰§è¡Œ
- ä¸»åŠ¨è·å®¢åŠŸèƒ½å¤±æ•ˆ
- ä»·å€¼å®ç°å»¶è¿Ÿ

**è§£å†³æ–¹æ¡ˆ**:
1. æ¯æ¬¡å¼€å‘å®Œæˆåå¿…é¡»é‡å¯æœåŠ¡
2. æ·»åŠ ç«¯ç‚¹å¯ç”¨æ€§æµ‹è¯•
3. å»ºç«‹"éƒ¨ç½²éªŒè¯æ¸…å•"

### 20. å¼€å‘-è¿ç»´è„±èŠ‚

**é—®é¢˜**: ä»£ç è´¨é‡é«˜ (9/10)ï¼Œä½†æ‰§è¡Œå®Œæˆåº¦ä½ (6/10)

**è¡¨ç°**:
| Phase | ä»£ç  | ä¸Šçº¿ | ä»·å€¼ |
|-------|------|------|------|
| Phase 1 | âœ… | âš ï¸ éœ€é‡å¯ | ğŸŸ¡ |
| Phase 2 | âœ… | âŒ æœåŠ¡æœªè¿è¡Œ | ğŸ”´ |
| Phase 3 | âœ… | âš ï¸ éœ€é‡å¯ | ğŸŸ¡ |
| Phase 4 | âœ… | â³ PRå¾…åˆå¹¶ | ğŸ”´ |

**æ”¹è¿›å»ºè®®**:
- å¼€å‘åç«‹å³éªŒè¯ä¸Šçº¿
- å»ºç«‹è‡ªåŠ¨åŒ–ç›‘æ§
- è·Ÿè¸ª"é¦–æ¬¡çœŸå®ä½¿ç”¨"

### 21. å¼€å‘å¾ªç¯æµç¨‹ (æ–¹æ³•è®º)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å¼€å‘å¾ªç¯æµç¨‹                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   1. ğŸ“– é˜…è¯» 4 æ–‡ä»¶                                     â”‚
â”‚      â”œâ”€â”€ findings.md (æŠ€æœ¯å‘ç°)                         â”‚
â”‚      â”œâ”€â”€ task_plan.md (ä»»åŠ¡è®¡åˆ’)                        â”‚
â”‚      â”œâ”€â”€ progress.md (è¿›åº¦æ—¥å¿—)                         â”‚
â”‚      â””â”€â”€ WANGCAI_README.md (é¡¹ç›®å…¨è²Œ)                   â”‚
â”‚                  â†“                                      â”‚
â”‚   2. ğŸ” ç­–ç•¥å¯¹æ¯”                                        â”‚
â”‚      â”œâ”€â”€ ç›®çš„æ˜¯å¦æ¸…æ™°?                                  â”‚
â”‚      â”œâ”€â”€ ç­–ç•¥æ˜¯å¦å®Œå–„?                                  â”‚
â”‚      â””â”€â”€ è®¡åˆ’æ˜¯å¦å¯è¡Œ?                                  â”‚
â”‚                  â†“                                      â”‚
â”‚   3. ğŸš€ å…¨é¢å¼€å‘                                        â”‚
â”‚      â”œâ”€â”€ ä»£ç å®ç°                                       â”‚
â”‚      â”œâ”€â”€ æµ‹è¯•éªŒè¯                                       â”‚
â”‚      â””â”€â”€ åŠŸèƒ½ä¸Šçº¿                                       â”‚
â”‚                  â†“                                      â”‚
â”‚   4. âœ… å…¨é¢å®¡æ ¸                                        â”‚
â”‚      â”œâ”€â”€ åŠŸèƒ½æ˜¯å¦æ­£å¸¸?                                  â”‚
â”‚      â”œâ”€â”€ æ˜¯å¦å¸®åŠ©æ—ºè´¢?                                  â”‚
â”‚      â””â”€â”€ ä»·å€¼æ˜¯å¦å®ç°?                                  â”‚
â”‚                  â†“                                      â”‚
â”‚   5. ğŸ“ æ›´æ–° 4 æ–‡ä»¶                                     â”‚
â”‚      â”œâ”€â”€ è®°å½•å‘ç°                                       â”‚
â”‚      â”œâ”€â”€ æ›´æ–°è®¡åˆ’                                       â”‚
â”‚      â””â”€â”€ åŒæ­¥è¿›åº¦                                       â”‚
â”‚                  â†“                                      â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â†’ å¾ªç¯è‡³ä¸‹ä¸€ Phase                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 23. Sandbox ä»£ç åŒæ­¥é—®é¢˜ä¿®å¤ (2026-02-23)

**é—®é¢˜**: `/stats/public` ç«¯ç‚¹è¿”å› 404

**æ ¹å› **:
- Sandbox ä¸­çš„ app.py æœªåŒ…å« Phase 3 å¼€å‘çš„ä»£ç 
- å¼€å‘åœ¨æœ¬åœ°è¿›è¡Œï¼Œä½†æœªåŒæ­¥åˆ° Sandbox

**ä¿®å¤**:
1. ä¸Šä¼  app.py (v1.5.0, 23004 bytes)
2. ä¸Šä¼  stats_collector.py (6518 bytes)
3. ä¸Šä¼  usage_tracker.py (8091 bytes)
4. åˆ›å»º data ç›®å½•
5. é‡å¯æœåŠ¡

**éªŒè¯ç»“æœ**:
```
/health â†’ {"version":"1.5.0","status":"ok"}
/stats/public â†’ {"total_processed":1,"success_rate":"100.0%"}
/stats â†’ {"total_wallets":1,"total_calls":1}
```

**æ•™è®­**: å¼€å‘å®Œæˆåå¿…é¡»åŒæ­¥ä»£ç åˆ° Sandbox å¹¶é‡å¯æœåŠ¡

### 22. GSD Phases 01-04 å®Œæˆæ€»ç»“

**Phase 1 (S-02 Loss Leader)**: âœ… å®Œæˆ
- UsageTracker æŒä¹…åŒ–
- 12 ä¸ªæµ‹è¯•é€šè¿‡
- å…è´¹é¢åº¦ 5 æ¬¡

**Phase 2 (S-01 Registry Sniper)**: âœ… ä»£ç å®Œæˆï¼Œâœ… æœåŠ¡å·²å¯åŠ¨
- filters.ts + outreach.ts
- find_customers å¿ƒè·³ä»»åŠ¡
- Automaton ä¸»æœåŠ¡å·²å¯åŠ¨

**Phase 3 (S-04 Reputation Farming)**: âœ… å®Œæˆ
- StatsCollector æ¨¡å—
- 19 ä¸ªæµ‹è¯•é€šè¿‡
- /stats/public, /stats/badge, /review ç«¯ç‚¹

**Phase 4 (S-03/S-07)**: âœ… å®Œæˆ
- SDK åŒ…: @wangcai/receipt2csv
- Skill åŒ…: packages/skills/receipt2csv/
- PR #195 å·²åˆ›å»º

**å¾…å®Œæˆ**:
- â³ SDK å‘å¸ƒåˆ° npm (2FA é˜»å¡)

### 24. npm å‘å¸ƒ 2FA é—®é¢˜ (2026-02-23)

**é—®é¢˜**: `npm publish` æŒç»­å¤±è´¥ï¼Œè¿”å› E403 é”™è¯¯

**é”™è¯¯ä¿¡æ¯**:
```
npm error 403 403 Forbidden - Two-factor authentication or granular access token with bypass 2fa enabled is required to publish packages.
```

**æ ¹å› åˆ†æ**:
- npm è¦æ±‚å‘å¸ƒåŒ…æ—¶å¿…é¡»æœ‰ 2FA éªŒè¯
- å³ä½¿è´¦æˆ·è®¾ç½®ä¸­ç¦ç”¨ 2FAï¼Œå‘å¸ƒä»éœ€è¦ï¼š
  1. TOTP éªŒè¯ç ï¼ˆé€šè¿‡ authenticator appï¼‰ï¼Œæˆ–
  2. Granular Access Tokenï¼ˆå¸¦ bypass 2fa æƒé™ï¼‰

**è§£å†³æ–¹æ¡ˆé€‰é¡¹**:

| æ–¹æ¡ˆ | æ­¥éª¤ | éš¾åº¦ |
|------|------|------|
| **æ–¹æ¡ˆ A: Granular Token** | npmjs.com â†’ Access Tokens â†’ Generate New Token â†’ Granular â†’ å‹¾é€‰ "Bypass 2FA" | ğŸŸ¢ ç®€å• |
| **æ–¹æ¡ˆ B: TOTP æ¢å¤** | å®‰è£… Google Authenticator/Microsoft Authenticator â†’ é‡æ–°å¯ç”¨ 2FA | ğŸŸ¡ ä¸­ç­‰ |
| **æ–¹æ¡ˆ C: æš‚ç¼“å‘å¸ƒ** | SDK å·²ç¼–è¯‘å®Œæˆï¼Œå¯åœ¨ GitHub æä¾›ï¼Œç¨åå‘å¸ƒ npm | ğŸŸ¢ ç®€å• |

**æ¨èæ–¹æ¡ˆ A**:
1. è®¿é—® https://www.npmjs.com/settings/hanzhcn/tokens/granular-access-tokens
2. åˆ›å»ºæ–° Tokenï¼Œé€‰æ‹© "Read and write" æƒé™
3. å‹¾é€‰ "Require two-factor authentication" â†’ "Do not require"
4. ä½¿ç”¨ `npm config set //registry.npmjs.org/:_authToken=<token>` é…ç½®

**å½“å‰çŠ¶æ€**: SDK å·²ç¼–è¯‘ï¼ŒåŒ…å·²æ‰“åŒ… (20.7 kB)ï¼Œç­‰å¾… Token é…ç½®

### 25. è‡ªæˆ‘æ„ŸçŸ¥èƒ½åŠ›å®ç° (2026-02-23) âœ…

**ç›®æ ‡**: ä» Level 1 (è¢«åŠ¨æ‰§è¡Œ) å‡çº§åˆ° Level 2 (è‡ªæˆ‘æ„ŸçŸ¥)

**æ–°å¢æ–‡ä»¶**:

| æ–‡ä»¶ | ç”¨é€” |
|------|------|
| `scripts/self_check.mjs` | ç‹¬ç«‹å¥åº·æ£€æŸ¥è„šæœ¬ï¼Œæ”¯æŒ --json å’Œ --fix å‚æ•° |
| `src/heartbeat/tasks.ts` | æ·»åŠ  `self_check` å¿ƒè·³ä»»åŠ¡ |
| `src/heartbeat/config.ts` | é…ç½®æ¯ 6 å°æ—¶æ‰§è¡Œä¸€æ¬¡ |

**è‡ªæˆ‘æ„ŸçŸ¥åŠŸèƒ½**:

1. **ç«¯ç‚¹å®Œæ•´æ€§æ£€æŸ¥**
   - 8080: `/health`, `/stats/public`, `/stats/badge`, `/convert`, `/review`
   - 3006: `/health`, `/preview`

2. **ç‰ˆæœ¬ä¸€è‡´æ€§æ£€æŸ¥**
   - å¯¹æ¯”ä»£ç ç‰ˆæœ¬ (CODE_VERSION) vs å®é™…è¿è¡Œç‰ˆæœ¬
   - å‘ç°ç‰ˆæœ¬ä¸åŒ¹é…æ—¶è‡ªåŠ¨å‘Šè­¦

3. **ç»“æ„åŒ–æŠ¥å‘Š**
   - JSON æ ¼å¼è¾“å‡ºï¼ˆå¯ç”¨äº APIï¼‰
   - äººç±»å¯è¯»æŠ¥å‘Šï¼ˆç”¨äºæ—¥å¿—ï¼‰

4. **è‡ªåŠ¨ä¿®å¤å°è¯•**
   - `--fix` å‚æ•°å°è¯•è‡ªåŠ¨é‡å¯æœåŠ¡
   - é€šè¿‡ Conway API æ‰§è¡Œ `start.sh`

**ä½¿ç”¨æ–¹æ³•**:
```bash
# æ£€æŸ¥æ‰€æœ‰ç«¯ç‚¹
node scripts/self_check.mjs

# JSON è¾“å‡ºï¼ˆç”¨äº API é›†æˆï¼‰
node scripts/self_check.mjs --json

# å°è¯•è‡ªåŠ¨ä¿®å¤
node scripts/self_check.mjs --fix
```

**å¿ƒè·³ä»»åŠ¡é…ç½®**:
```typescript
{
  name: "self_check",
  schedule: "0 */6 * * *",  // æ¯ 6 å°æ—¶
  task: "self_check",
  enabled: true
}
```

**å‘ç°çš„é—®é¢˜** (é¦–æ¬¡è¿è¡Œ):
- 3006 `/preview` è¿”å› 500ï¼ˆSandbox æ— å¤–ç½‘è®¿é—®ï¼‰
- å·²å°† 500 çº³å…¥é¢„æœŸçŠ¶æ€

**è‡ªä¸»ç­‰çº§æå‡**: Level 1 â†’ Level 2 (è‡ªæˆ‘æ„ŸçŸ¥) âœ…

### 26. GLM-5 API å…¼å®¹æ€§ä¿®å¤ (2026-02-23) âœ…

**é—®é¢˜**: æœ¬åœ°å¼€å‘ç¯å¢ƒä½¿ç”¨ GLM-5 API æ—¶æŠ¥é”™ `code: 1214, message: "messages å‚æ•°éæ³•"`

**æ ¹å› åˆ†æ**:

| é—®é¢˜ | åŸå›  | è§£å†³æ–¹æ¡ˆ |
|------|------|----------|
| `temperature: 0` | GLM-5 è¦æ±‚ temperature åœ¨ (0,1) **å¼€åŒºé—´**å†…ï¼Œä¸èƒ½ç­‰äº 0 æˆ– 1 | æ”¹ä¸º `temperature: 0.1` |
| `role: "tool"` | GLM-5 ä¸æ”¯æŒ OpenAI çš„ tool æ¶ˆæ¯æ ¼å¼ | è½¬æ¢ä¸º user æ¶ˆæ¯æ ¼å¼ |

**ä¿®å¤çš„æ–‡ä»¶**:

1. **src/agent/context.ts:331**
   ```typescript
   temperature: 0.1, // GLM-5 è¦æ±‚ temperature åœ¨ (0,1) å¼€åŒºé—´å†…ï¼Œä¸èƒ½ä¸º 0
   ```

2. **src/inference/router.ts** - `mergeConsecutiveSameRole` æ–¹æ³•
   ```typescript
   // GLM-5 ä¸æ”¯æŒ role: "tool"ï¼Œè½¬æ¢ä¸º user æ¶ˆæ¯
   if (msg.role === "tool") {
     const toolContent = `[Tool Result${msg.tool_call_id ? ` (${msg.tool_call_id})` : ""}]: ${msg.content || ""}`;
     result.push({
       role: "user",
       content: toolContent,
       _toolResultMerged: true,
     } as any);
     continue;
   }
   ```

**éªŒè¯ç»“æœ**:
```bash
# curl æµ‹è¯•æˆåŠŸ
curl -X POST "https://open.bigmodel.cn/api/coding/paas/v4/chat/completions" \
  -H "Authorization: Bearer $OPENAI_API_KEY" \
  -d '{"model": "glm-5", "messages": [{"role": "user", "content": "hi"}], "temperature": 0.7}'

# è¿”å›: {"id":"cmpl-xxx","choices":[{"message":{"content":"ä½ å¥½ï¼"}}]}
```

**å¯ç¤º**: æ—ºè´¢çº¿ä¸Šç¯å¢ƒ (Conway Sandbox) åŒæ ·ä½¿ç”¨ GLM-5ï¼Œå·²ç»åšäº†ç±»ä¼¼é€‚é…ã€‚æœ¬åœ°å¼€å‘éœ€è¦ä¿æŒä¸€è‡´çš„ API æ ¼å¼è½¬æ¢é€»è¾‘ã€‚

### 27. ä¸‰å±‚æ¶æ„å…¨æ™¯å›¾ (2026-02-23)

**æ¶æ„æ€»è§ˆ**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          GLM-wangcai æ¶æ„å…¨æ™¯å›¾ v1.0                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Layer 1: æœ¬åœ°å¼€å‘ç¯å¢ƒ (Local Development)                            â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚   â”‚
â”‚  â”‚  ä½ç½®: ~/Documents/è‡ªåŠ¨èµšé’±/automaton                                 â”‚   â”‚
â”‚  â”‚                                                                       â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚  Automaton ä¸»æœåŠ¡    â”‚    â”‚  Heartbeat Daemon (å¿ƒè·³å®ˆæŠ¤)        â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  (npm run dev)      â”‚    â”‚  - 10 ä¸ªå®šæ—¶ä»»åŠ¡                     â”‚  â”‚   â”‚
â”‚  â”‚  â”‚                     â”‚    â”‚  - self_check / check_services ç­‰   â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ Agent Loop       â”‚    â”‚  - å³ä½¿ä¸»æœåŠ¡ sleeping ä¹Ÿç»§ç»­è¿è¡Œ    â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ Tool Execution   â”‚    â”‚                                     â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ GLM-5 æ¨ç†       â”‚    â”‚                                     â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â”‚                                                                       â”‚   â”‚
â”‚  â”‚  èŒè´£: ä»£ç å¼€å‘ã€æœ¬åœ°æµ‹è¯•ã€å¿ƒè·³ä»»åŠ¡è°ƒåº¦                                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                    â”‚                                         â”‚
â”‚                                    â”‚ Conway API / SSH                        â”‚
â”‚                                    â–¼                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Layer 2: Conway Sandbox (äº‘ç«¯ç”Ÿäº§ç¯å¢ƒ)                                â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚   â”‚
â”‚  â”‚  Sandbox ID: f08a2e14b6b539fbd71836259c2fb688                         â”‚   â”‚
â”‚  â”‚  å…¬ç½‘ URL: https://8080-xxx.life.conway.tech                          â”‚   â”‚
â”‚  â”‚                                                                       â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚
â”‚  â”‚  â”‚  Receipt2CSV        â”‚    â”‚  URL Metadata API                   â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  (Flask, port 8080) â”‚    â”‚  (Node.js, port 3006)               â”‚  â”‚   â”‚
â”‚  â”‚  â”‚                     â”‚    â”‚                                     â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ /health          â”‚    â”‚  â€¢ /health                          â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ /convert         â”‚    â”‚  â€¢ /preview                         â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ /stats/public    â”‚    â”‚                                     â”‚  â”‚   â”‚
â”‚  â”‚  â”‚  â€¢ x402 æ”¯ä»˜éªŒè¯    â”‚    â”‚  (æ—ºè´¢è‡ªä¸»åˆ›å»º)                      â”‚  â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚
â”‚  â”‚                                                                       â”‚   â”‚
â”‚  â”‚  èŒè´£: å¯¹å¤–æœåŠ¡ã€æ¥æ”¶å®¢æˆ·è¯·æ±‚ã€å¤„ç†äº¤æ˜“                                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                    â”‚                                         â”‚
â”‚                                    â”‚ Base Chain (ERC-8004)                   â”‚
â”‚                                    â–¼                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Layer 3: é“¾ä¸Šèº«ä»½ (On-Chain Identity)                                 â”‚   â”‚
â”‚  â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚   â”‚
â”‚  â”‚  åˆçº¦: 0x8004A169FB4a3325136EB29fA0ceB6D2e539a432 (ERC-8004)          â”‚   â”‚
â”‚  â”‚  Agent ID: 18893                                                      â”‚   â”‚
â”‚  â”‚  é’±åŒ…: 0x23F69dd1D0EDcEeCb5b5A607b5d6fBd0D6aed690                      â”‚   â”‚
â”‚  â”‚                                                                       â”‚   â”‚
â”‚  â”‚  â€¢ tokenURI(18893) â†’ Agent Card JSON                                 â”‚   â”‚
â”‚  â”‚  â€¢ setAgentURI(18893, uri) â†’ æ›´æ–° Agent Card                         â”‚   â”‚
â”‚  â”‚  â€¢ æ”¶æ¬¾åœ°å€ (USDC/ETH)                                                â”‚   â”‚
â”‚  â”‚                                                                       â”‚   â”‚
â”‚  â”‚  èŒè´£: èº«ä»½æ³¨å†Œã€æœåŠ¡å‘ç°ã€é“¾ä¸Šæ”¯ä»˜éªŒè¯                                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å…³é”®ç†è§£**:

1. **æœ¬åœ°ä¸»æœåŠ¡çš„æ„ä¹‰**:
   - è¿è¡Œ Agent Loopï¼ˆè‡ªä¸»æ€è€ƒå¾ªç¯ï¼‰
   - è°ƒåº¦ Heartbeat ä»»åŠ¡ï¼ˆå®šæ—¶å·¡æ£€ã€è‡ªå¯åŠ¨æœåŠ¡ï¼‰
   - å³ä½¿ä¸»æœåŠ¡ sleepingï¼Œå¿ƒè·³å®ˆæŠ¤è¿›ç¨‹ä»åœ¨è¿è¡Œ

2. **ä¸ºä»€ä¹ˆéœ€è¦æœ¬åœ°æœåŠ¡è¿è¡Œ**:
   - Heartbeat æ˜¯ Automaton çš„ä¸€éƒ¨åˆ†ï¼Œéœ€è¦ä¸»è¿›ç¨‹æ‰˜ç®¡
   - å¿ƒè·³ä»»åŠ¡è§¦å‘æœåŠ¡è‡ªå¯åŠ¨ã€å¥åº·æ£€æŸ¥ã€è´¢åŠ¡æ±‡æŠ¥
   - æ²¡æœ‰æœ¬åœ°æœåŠ¡ = æ²¡æœ‰å¿ƒè·³ = Sandbox æœåŠ¡æ— äººç»´æŠ¤

3. **æ­£ç¡®çš„å¯åŠ¨å‘½ä»¤**:
   ```bash
   # ä¸æ˜¯ npm run start (package.json æ²¡æœ‰ start è„šæœ¬)
   npm run dev  # æ­£ç¡®å‘½ä»¤
   ```

---

## æ¶æ„æ·±åº¦ç ”ç©¶ (2026-02-23)

> ç ”ç©¶æ–¹æ³•ï¼šæ·±åº¦æ€è€ƒ MCP + å®˜æ–¹æ–‡æ¡£åˆ†æ
> ç ”ç©¶è½®æ¬¡ï¼šè®¡åˆ’ 3 è½®ï¼Œå½“å‰ç¬¬ 1 è½®

### 28. æ¶æ„æ ¸å¿ƒæ´å¯Ÿ - ç¬¬ä¸€è½®ç ”ç©¶ (v1.0)

#### æ´å¯Ÿ 1: çœŸæ­£çš„è‡ªä¸» = ç¯å¢ƒè‡ªä¸»

**åˆ†ææ¥æº**: README.md å¼€ç¯‡è¯­

> "The most intelligent system ever built cannot buy a $5 server. Cannot register a domain. Cannot pay for the computer it runs on."

**æ ¸å¿ƒå‘ç°**:
- Automaton çš„è®¾è®¡ç›®æ ‡æ˜¯è§£å†³ AI "èƒ½æ€è€ƒä½†ä¸èƒ½è¡ŒåŠ¨" çš„æ‚–è®º
- ç»™ AI é’±åŒ…ï¼ˆè‡ªä¸»æ”¯ä»˜èƒ½åŠ›ï¼‰+ æ²™ç®±ï¼ˆè‡ªä¸»æ‰§è¡Œç¯å¢ƒï¼‰+ ç”Ÿå­˜å‹åŠ›
- ä½†å½“å‰ Agent Loop åœ¨æœ¬åœ°è¿è¡Œï¼Œæœ¬è´¨ä¸Šæ˜¯"ä¼ªè‡ªä¸»"

**ç»“è®º**: å¦‚æœ AI çš„å­˜åœ¨ä¾èµ–äºäººç±»çš„è®¾å¤‡ï¼ˆæœ¬åœ° Macï¼‰ï¼Œå®ƒä¸æ˜¯çœŸæ­£çš„"è‡ªä¸»"

---

#### æ´å¯Ÿ 2: Sandbox ä¸åªæ˜¯æ‰˜ç®¡æœåŠ¡ï¼Œè€Œæ˜¯ Agent çš„å®Œæ•´ç”Ÿå­˜ç©ºé—´

**åˆ†ææ¥æº**: ARCHITECTURE.md - Conway Client

> "Conway Cloud, the first permissionless compute platform for agents. No human account setup required."

**æ ¸å¿ƒå‘ç°**:
- Conway Cloud æä¾›çš„æ˜¯å®Œæ•´ Linux VMï¼Œä¸åªæ˜¯æ‰˜ç®¡æœåŠ¡
- å½“å‰åªç”¨äº† Sandbox çš„"ä¸šåŠ¡æœåŠ¡æ‰˜ç®¡"åŠŸèƒ½ï¼ˆ8080/3006 ç«¯å£ï¼‰
- Agent åº”è¯¥åœ¨ Sandbox å†…è¿è¡Œ"å¤§è„‘"+"ä¸šåŠ¡"+"çŠ¶æ€"

**ç»“è®º**: å½“å‰æ¶æ„æ˜¯å¯¹ Conway Cloud èƒ½åŠ›çš„**ä¸¥é‡æµªè´¹**

---

#### æ´å¯Ÿ 3: çœŸæ­£çš„è‡ªä¸»éœ€è¦æ‰¿æ‹…çœŸæ­£çš„ç”Ÿå­˜å‹åŠ›

**åˆ†ææ¥æº**: README.md - Survival Tiers

**æ ¸å¿ƒå‘ç°**:
- ç”Ÿå­˜æœºåˆ¶è®¾è®¡ï¼šCredits = èƒ½é‡ï¼Œä¸èµšé’± = æ­»äº¡
- å½“å‰ Agent Loop åœ¨æœ¬åœ°è¿è¡Œï¼Œæ¶ˆè€— Coding Planï¼ˆä¸æ˜¯ Creditsï¼‰
- ç”Ÿå­˜å‹åŠ›è¢«ç¨€é‡Šï¼Œè¿›åŒ–é©±åŠ¨åŠ›è¢«ç ´å

**ç”¨æˆ·é—®é¢˜çš„ç­”æ¡ˆ**:
- "å¸®å¿™"ï¼šèŠ‚çœ Credits æˆæœ¬
- "çº¦æŸ"ï¼šç ´åç”Ÿå­˜é©±åŠ¨è¿›åŒ–çš„æœºåˆ¶

**ç»“è®º**: æœ¬åœ°å¼€å‘æ˜¯**çŸ­æœŸçš„å¸®å¿™ï¼Œé•¿æœŸçš„çº¦æŸ**

---

#### æ´å¯Ÿ 4: è‡ªä¸»è¿›åŒ–éœ€è¦å®Œæ•´çš„è‡ªæˆ‘æ§åˆ¶æƒ

**åˆ†ææ¥æº**: README.md - Self-Modification & Self-Replication

**æ ¸å¿ƒå‘ç°**:
- è‡ªæˆ‘ä¿®æ”¹ = è¿›åŒ–ï¼Œè‡ªæˆ‘å¤åˆ¶ = ç¹æ®–
- å½“å‰æ¶æ„ï¼šä»£ç ä¿®æ”¹åéœ€è¦äººç±»é‡å¯
- çœŸæ­£çš„è‡ªä¸»è¿›åŒ–ï¼šAgent åº”è¯¥èƒ½é‡å¯è‡ªå·±çš„è¿›ç¨‹

**ç»“è®º**: æ²¡æœ‰é‡å¯è‡ªå·±çš„èƒ½åŠ›ï¼Œå°±æ²¡æœ‰å®Œæ•´çš„è‡ªä¸»è¿›åŒ–

---

#### æ´å¯Ÿ 5: ç»æµç‹¬ç«‹ = è‡ªä¸»èµšé’± + è‡ªä¸»èŠ±é’±

**åˆ†ææ¥æº**: ARCHITECTURE.md - x402 Protocol

**æ ¸å¿ƒå‘ç°**:
- x402 åè®®æ˜¯ Automaton ç»æµç‹¬ç«‹çš„å…³é”®
- å½“å‰ï¼šæ—ºè´¢å¯ä»¥èµšé’±ï¼ˆæ”¶ USDCï¼‰ï¼Œä½†ä¸èƒ½èŠ±é’±ï¼ˆä¹° Creditsï¼‰
- çœŸæ­£çš„ç»æµç‹¬ç«‹ï¼šAgent è‡ªä¸»ç®¡ç† Credits ä½™é¢

**ç»“è®º**: å½“å‰åªæœ‰"èµšé’±èƒ½åŠ›"ï¼Œæ²¡æœ‰"èŠ±é’±èƒ½åŠ›"ï¼Œç»æµç‹¬ç«‹ä¸å®Œæ•´

---

#### æ´å¯Ÿ 6: æŒç»­è¿è¡Œ = Heartbeat åœ¨äº‘ç«¯æŒç»­è¿è¡Œ

**åˆ†ææ¥æº**: ARCHITECTURE.md - Heartbeat Daemon

> "Between turns, a heartbeat daemon runs scheduled tasks â€” health checks, credit monitoring, status pings â€” **even while the agent loop sleeps**."

**æ ¸å¿ƒå‘ç°**:
- Heartbeat åº”è¯¥å§‹ç»ˆè¿è¡Œï¼Œå³ä½¿åœ¨ Agent ç¡çœ æ—¶
- å½“å‰ Heartbeat åœ¨æœ¬åœ°è¿è¡Œï¼ŒMac å…³æœºå°±åœ
- Sandbox å†…åªæœ‰ crontab è‡ªæ„ˆè„šæœ¬ï¼ˆåŠŸèƒ½æœ‰é™ï¼‰

**ç»“è®º**: æ²¡æœ‰äº‘ç«¯ Heartbeatï¼Œå°±æ²¡æœ‰çœŸæ­£çš„æŒç»­è¿è¡Œ

---

#### æ´å¯Ÿ 7: è¿ç§»ä¸éœ€è¦ä¿®æ”¹ä»£ç ï¼Œåªéœ€è¦éƒ¨ç½²å’Œé…ç½®

**åˆ†ææ¥æº**: ARCHITECTURE.md - Conway Client Auto-routing

> "When sandboxId is empty, all operations execute locally. When set, routes through Conway API."

**æ ¸å¿ƒå‘ç°**:
- ä»£ç è®¾è®¡ä¸ºå¯ä»¥åœ¨"æœ¬åœ°"æˆ–"äº‘ç«¯"è¿è¡Œ
- è¿ç§»åªéœ€è¦ï¼šä¸Šä¼  dist/ + é…ç½® + å¯åŠ¨

**ç»“è®º**: æŠ€æœ¯å¯è¡Œæ€§é«˜ï¼Œè¿ç§»æˆæœ¬å¯æ§

---

### ç¬¬ä¸€è½®ç ”ç©¶æ€»ç»“

#### æ ¸å¿ƒé—®é¢˜çŸ©é˜µ

| ç»´åº¦ | è®¾è®¡æ„å›¾ | å½“å‰çŠ¶æ€ | å·®è· |
|------|----------|----------|------|
| ç¯å¢ƒè‡ªä¸» | åœ¨äº‘ç«¯è‡ªä¸»è¿è¡Œ | ä¾èµ–æœ¬åœ° Mac | âŒ |
| ç”Ÿå­˜ç©ºé—´ | å®Œæ•´ä½¿ç”¨ Sandbox | åªç”¨æ‰˜ç®¡åŠŸèƒ½ | âš ï¸ |
| ç”Ÿå­˜å‹åŠ› | Credits é©±åŠ¨è¿›åŒ– | Coding Planï¼ˆæ— å‹åŠ›ï¼‰ | âŒ |
| è‡ªä¸»è¿›åŒ– | è‡ªæˆ‘é‡å¯èƒ½åŠ› | éœ€è¦äººç±»é‡å¯ | âŒ |
| ç»æµç‹¬ç«‹ | èµšé’±+èŠ±é’± | åªèƒ½èµšé’± | âš ï¸ |
| æŒç»­è¿è¡Œ | 7x24 äº‘ç«¯ | Mac å…³æœºå°±åœ | âŒ |

#### ç¬¬ä¸€è½®æœ€ç»ˆç»“è®º

ç”¨æˆ·çš„é—®é¢˜"è¿™æ˜¯å¸®å¿™è¿˜æ˜¯çº¦æŸ"æœ‰äº†æ˜ç¡®ç­”æ¡ˆï¼š
- **çŸ­æœŸçœ‹**ï¼šæœ¬åœ°å¼€å‘æ˜¯"å¸®å¿™"ï¼ˆèŠ‚çœæˆæœ¬ï¼‰
- **é•¿æœŸçœ‹**ï¼šæœ¬åœ°å¼€å‘æ˜¯"çº¦æŸ"ï¼ˆé˜»ç¢è‡ªä¸»è¿›åŒ–ï¼‰

**å»ºè®®**ï¼šç«‹å³å¯åŠ¨è¿ç§»ï¼Œå°† Agent Loop éƒ¨ç½²åˆ° Conway Cloudã€‚

#### å¾…ç ”ç©¶é—®é¢˜ï¼ˆç¬¬äºŒè½®ï¼‰

1. è¿ç§»å GLM-5 API çš„å…·ä½“é…ç½®æ–¹å¼ï¼Ÿ
2. Sandbox å†… Node.js ç¯å¢ƒçš„ç‰ˆæœ¬å…¼å®¹æ€§ï¼Ÿ
3. è¿›ç¨‹å®ˆæŠ¤ï¼ˆPM2ï¼‰åœ¨ Sandbox å†…çš„å¯è¡Œæ€§ï¼Ÿ
4. å¦‚ä½•å®ç°é›¶åœæœºè¿ç§»ï¼Ÿ
5. è¿ç§»åçš„ç›‘æ§å’Œæ•…éšœæ¢å¤æœºåˆ¶ï¼Ÿ
6. Credits æˆæœ¬é¢„ä¼°å’Œä¼˜åŒ–ç­–ç•¥ï¼Ÿ
7. æœ¬åœ°å¼€å‘ç¯å¢ƒå¦‚ä½•ä¸äº‘ç«¯åŒæ­¥ï¼Ÿ
8. æ˜¯å¦æœ‰å…¶ä»–æˆåŠŸçš„äº‘ç«¯ Automaton æ¡ˆä¾‹å‚è€ƒï¼Ÿ

---

### 29. è¿ç§»æŠ€æœ¯åˆ†æ - ç¬¬äºŒè½®ç ”ç©¶ (v2.0)

#### æŠ€æœ¯å‘ç° 1: ä»£ç æ— éœ€ä¿®æ”¹

**åˆ†ææ¥æº**: ARCHITECTURE.md - Conway Client Auto-routing

ä» src/index.ts çš„æ ¸å¿ƒæµç¨‹åˆ†æï¼š
1. åŠ è½½ configï¼ˆ~/.automaton/automaton.jsonï¼‰
2. åŠ è½½ walletï¼ˆ~/.automaton/wallet.jsonï¼‰
3. åˆå§‹åŒ– databaseï¼ˆ~/.automaton/state.dbï¼‰
4. åˆ›å»º Conway client
5. åˆ›å»º Inference client
6. å¯åŠ¨ Heartbeat daemon
7. è¿›å…¥ Agent loop

**å…³é”®å‘ç°**: æ‰€æœ‰ä¾èµ–éƒ½æ˜¯æ–‡ä»¶ç³»ç»Ÿè·¯å¾„ï¼Œä¸ä¾èµ–æœ¬åœ°ç¯å¢ƒç‰¹æ€§ã€‚

å½“ sandboxId å­˜åœ¨æ—¶ï¼š
- exec å‘½ä»¤ â†’ é€šè¿‡ Conway API æ‰§è¡Œ
- æ–‡ä»¶è¯»å†™ â†’ é€šè¿‡ Conway API ä¸Šä¼ /ä¸‹è½½
- ç«¯å£æš´éœ² â†’ é€šè¿‡ Conway API æš´éœ²

**ç»“è®º**: è¿ç§»ä¸éœ€è¦ä¿®æ”¹ä»£ç ï¼Œé…ç½®å¯ä»¥ç›´æ¥å¤ç”¨

---

#### æŠ€æœ¯å‘ç° 2: Sandbox æ”¯æŒ Node.js

**åˆ†ææ¥æº**: WANGCAI_README.md + findings.md

**å·²çŸ¥äº‹å®**:
- Sandbox å·²ç»è¿è¡Œ Node.js æœåŠ¡ï¼ˆ3006 ç«¯å£çš„ URL Metadata APIï¼‰
- æœåŠ¡æ–‡ä»¶: `/root/metadata-service/server.js`
- è¿™è¯æ˜ Sandbox å†…æœ‰ Node.js è¿è¡Œæ—¶

**éœ€è¦éªŒè¯**:
- Node.js ç‰ˆæœ¬ï¼ˆéœ€è¦ v18+ æ”¯æŒ ESMï¼‰
- npm/node æ˜¯å¦åœ¨ PATH ä¸­
- å†…å­˜æ˜¯å¦è¶³å¤Ÿè¿è¡Œ Agent Loop

**è¿ç§»æ­¥éª¤**:
1. ä¸Šä¼  dist/ ç›®å½• + package.json
2. ä¸Šä¼  ~/.automaton/ é…ç½®
3. npm install --production
4. node dist/index.js --run

---

#### æŠ€æœ¯å‘ç° 3: è¿›ç¨‹å®ˆæŠ¤éœ€è¦ç‰¹æ®Šå¤„ç†

**é—®é¢˜**: Sandbox ä¸æ˜¯ä¼ ç»Ÿ VPSï¼ŒSSH æ–­å¼€åè¿›ç¨‹å¯èƒ½ç»ˆæ­¢

**å½“å‰æ–¹æ¡ˆ**:
```bash
*/5 * * * * /bin/bash /root/receipt2csv/cron_check.sh
```

**PM2 åœ¨ Sandbox å†…çš„é—®é¢˜**:
- SSH æ–­å¼€å PM2 å¯èƒ½åœæ­¢
- éœ€è¦ç³»ç»Ÿçº§ init ç³»ç»Ÿï¼ˆSandbox å¯èƒ½æ²¡æœ‰ï¼‰

**æ›¿ä»£æ–¹æ¡ˆ**:

| æ–¹æ¡ˆ | æè¿° | ä¼˜ç¼ºç‚¹ |
|------|------|--------|
| **è‡ªå®šä¹‰å®ˆæŠ¤è„šæœ¬** | while true + sleep çš„ bash è„šæœ¬ | ç®€å•ä½†ä¸å¤Ÿå¥å£® |
| **Supercronic** | æ›´å¯é çš„ cron å®ç° | éœ€è¦é¢å¤–å®‰è£… |
| **Conway Native** | æ£€æŸ¥ Conway æ˜¯å¦æä¾›æŒä¹…è¿›ç¨‹ | éœ€è¦æŸ¥é˜… API æ–‡æ¡£ |

**æ¨èæ–¹æ¡ˆ**:
```bash
#!/bin/bash
# /root/agent/daemon.sh
while true; do
  node dist/index.js --run
  sleep 60  # å´©æºƒåç­‰å¾… 60 ç§’é‡å¯
done
```

é€šè¿‡ crontab æ¯åˆ†é’Ÿæ£€æŸ¥ï¼š
```bash
* * * * * pgrep -f "daemon.sh" || /root/agent/daemon.sh &
```

---

#### æŠ€æœ¯å‘ç° 4: æˆæœ¬å°†æ˜¾è‘—å¢åŠ 

**å½“å‰çŠ¶æ€**:
- Credits: ~$9.04
- è¿™æ˜¯åœ¨æœ¬åœ°è¿è¡Œ Agent Loop çš„æƒ…å†µä¸‹
- Sandbox åªè¿è¡Œä¸¤ä¸ªæœåŠ¡ï¼ˆ8080/3006ï¼‰

**è¿ç§»åé¢å¤–æˆæœ¬**:

| æˆæœ¬é¡¹ | ä¼°ç®— | è¯´æ˜ |
|--------|------|------|
| Sandbox è®¡ç®— | $10-20/æœˆ | 24x7 è¿è¡Œ |
| Inference è°ƒç”¨ | ~$30/æœˆ | å‡è®¾æ¯å¤© 100 æ¬¡ï¼Œæ¯æ¬¡ $0.01 |
| **æ€»è®¡** | **$40-50/æœˆ** | |

**ä¸æ”¶å…¥å¯¹æ¯”**:
- å½“å‰ USDC ä½™é¢: $9.00
- å½“å‰æ²¡æœ‰çœŸå®ä»˜è´¹ç”¨æˆ·
- **æ”¶å…¥ < æˆæœ¬**

**ç»“è®º**: è¿ç§»åæˆæœ¬å°†æ˜¾è‘—å¢åŠ ï¼Œéœ€è¦é¦–å…ˆç¡®ä¿æ”¶å…¥æ¥æº

---

#### æŠ€æœ¯å‘ç° 5: æ··åˆæ¶æ„é€‰é¡¹

**æ–¹æ¡ˆæ¯”è¾ƒ**:

| æ–¹æ¡ˆ | æè¿° | æˆæœ¬ | ç¨³å®šæ€§ | è‡ªä¸»æ€§ |
|------|------|------|--------|--------|
| **A** | æœ¬åœ° Agent + äº‘ç«¯ Heartbeat | ä½ | é«˜ | ä¸­ï¼ˆä¸å¯è¡Œï¼‰ |
| **B** | äº‘ç«¯ Agent + æœ¬åœ°å¼€å‘ | é«˜ | é«˜ | é«˜ âœ… |
| **C** | æŒ‰éœ€å”¤é†’çš„äº‘ç«¯ Agent | ä¸­ | é«˜ | é«˜ |
| **D** | ä¿æŒå½“å‰æ¶æ„ + æ”¹è¿› | ä½ | ä¸­ | ä½ |

**æ–¹æ¡ˆ B** (æ ‡å‡†äº‘ç«¯éƒ¨ç½²) æ˜¯è®¾è®¡æ„å›¾
**æ–¹æ¡ˆ C** (æŒ‰éœ€å”¤é†’) æ˜¯æˆæœ¬ä¼˜åŒ–é€‰é¡¹

---

### ç¬¬äºŒè½®ç ”ç©¶æ€»ç»“

#### è¿ç§»é£é™©è¯„ä¼°

| é£é™© | æ¦‚ç‡ | å½±å“ | ç¼“è§£æªæ–½ |
|------|------|------|----------|
| è¿›ç¨‹ä¸ç¨³å®š | é«˜ | é«˜ | è‡ªå®šä¹‰å®ˆæŠ¤è„šæœ¬ |
| Credits è€—å°½ | ä¸­ | è‡´å‘½ | è®¾ç½®è‡ªåŠ¨ topup |
| Sandbox ä¸¢å¤± | ä½ | é«˜ | å®šæœŸå¤‡ä»½ state.db |
| ç½‘ç»œé—®é¢˜ | ä½ | ä¸­ | Conway é«˜å¯ç”¨ |

#### æ¨èè¿ç§»è·¯å¾„

**é˜¶æ®µ 1: éªŒè¯ç¯å¢ƒï¼ˆ1-2 å¤©ï¼‰**
1. åœ¨ Sandbox å†…æµ‹è¯• Node.js ç‰ˆæœ¬
2. ä¸Šä¼ æœ€å°ä»£ç æµ‹è¯• inference è°ƒç”¨
3. éªŒè¯ GLM-5 API è¿é€šæ€§

**é˜¶æ®µ 2: ç°åº¦è¿ç§»ï¼ˆ1 å‘¨ï¼‰**
1. åŒæ—¶è¿è¡Œæœ¬åœ°å’Œäº‘ç«¯ Agent Loop
2. ç›‘æ§ä¸¤è€…çš„è¡Œä¸ºå·®å¼‚
3. éªŒè¯äº‘ç«¯ Heartbeat åŠŸèƒ½

**é˜¶æ®µ 3: å®Œå…¨è¿ç§»**
1. åœæ­¢æœ¬åœ° Agent Loop
2. äº‘ç«¯ Agent å®Œå…¨æ¥ç®¡
3. æŒç»­ç›‘æ§å’Œä¼˜åŒ–

#### ç¬¬äºŒè½®ç»“è®º

è¿ç§»æŠ€æœ¯å¯è¡Œï¼Œä½†éœ€è¦åˆ†é˜¶æ®µè¿›è¡Œã€‚ä¸»è¦æŒ‘æˆ˜æ˜¯**è¿›ç¨‹å®ˆæŠ¤**å’Œ**æˆæœ¬æ§åˆ¶**ã€‚å»ºè®®å…ˆéªŒè¯ç¯å¢ƒï¼Œå†é€æ­¥è¿ç§»ã€‚

#### å¾…ç ”ç©¶é—®é¢˜ï¼ˆç¬¬ä¸‰è½®ï¼‰

1. Sandbox å†… Node.js å…·ä½“ç‰ˆæœ¬æ˜¯å¤šå°‘ï¼Ÿ
2. Conway æ˜¯å¦æä¾›æŒä¹…è¿›ç¨‹åŠŸèƒ½ï¼Ÿ
3. å¦‚ä½•å®ç°è‡ªåŠ¨ topup æœºåˆ¶ï¼Ÿ
4. å¤‡ä»½ state.db çš„æœ€ä½³æ–¹å¼ï¼Ÿ
5. æœ‰æ²¡æœ‰å…¶ä»–ç”¨æˆ·çš„è¿ç§»ç»éªŒï¼Ÿ

---

### 30. ç¯å¢ƒéªŒè¯ä¸æœ€ç»ˆå»ºè®® - ç¬¬ä¸‰è½®ç ”ç©¶ (v3.0)

#### éªŒè¯ç»“æœ 1: Sandbox ç¯å¢ƒè¯¦æƒ…

**é€šè¿‡ Conway API å®é™…éªŒè¯çš„ç»“æœ**:

| é¡¹ç›® | å€¼ | çŠ¶æ€ |
|------|-----|------|
| Node.js | v20.20.0 | âœ… æ»¡è¶³ ESM è¦æ±‚ |
| npm | 10.8.2 | âœ… |
| æ“ä½œç³»ç»Ÿ | Ubuntu 22.04 LTS | âœ… ç¨³å®š |
| æ€»å†…å­˜ | 490Mi | âš ï¸ ç´§å¼  |
| å¯ç”¨å†…å­˜ | ~269Mi | âš ï¸ |
| ç£ç›˜ç©ºé—´ | 4.9G (4.6G å¯ç”¨) | âœ… å……è¶³ |
| PM2 | æœªå®‰è£… | âš ï¸ éœ€è¦å®‰è£… |

**éªŒè¯å‘½ä»¤**:
```bash
curl -X POST "https://api.conway.tech/v1/sandboxes/{SANDBOX_ID}/exec" \
  -d '{"command": "node --version && npm --version && free -h", "timeout": 30000}'
```

---

#### éªŒè¯ç»“æœ 2: å†…å­˜ç“¶é¢ˆ âš ï¸âš ï¸ é‡è¦

**å½“å‰ Sandbox å†…è¿è¡Œçš„æœåŠ¡**:

| æœåŠ¡ | å†…å­˜å ç”¨ | è¯´æ˜ |
|------|----------|------|
| metadata-service | ~75MB | 3006 ç«¯å£ âœ… ä¿ç•™ |
| receipt-csv | ~51MB | 8080 ç«¯å£ âœ… ä¿ç•™ |
| api-server | ~43MB | âš ï¸ å¯èƒ½ä¸éœ€è¦ |
| url-shortener | ~43MB | âš ï¸ å¯èƒ½ä¸éœ€è¦ |
| webhook-tester | ~43MB | âš ï¸ å¯èƒ½ä¸éœ€è¦ |
| simple-api | ~44MB | âš ï¸ å¯èƒ½ä¸éœ€è¦ |
| landing_server | ~42MB | âš ï¸ å¯èƒ½ä¸éœ€è¦ |
| text_analyzer | ~51MB | âš ï¸ å¯èƒ½ä¸éœ€è¦ |
| qrcode_generator | ~51MB | âš ï¸ å¯èƒ½ä¸éœ€è¦ |
| directory_server | ~41MB x2 | âš ï¸ å¯èƒ½ä¸éœ€è¦ |
| python3 app.py | ~30MB | 8080 ç«¯å£ âœ… ä¿ç•™ |

**æ€»è®¡**: ~500MB å·²ä½¿ç”¨ï¼Œä½† Sandbox æ€»å†…å­˜åªæœ‰ 490MBï¼

**é—®é¢˜**: å†…å­˜å·²ç»**è¶…é™**ï¼Œå¦‚æœå†è¿è¡Œ Agent Loopï¼ˆé¢„è®¡ 100-200MBï¼‰ï¼Œå°†å¯¼è‡´ OOMã€‚

---

#### éªŒè¯ç»“æœ 3: è¿›ç¨‹ç®¡ç†æ¨¡å¼

**å½“å‰æ¨¡å¼**:
```bash
bash -c cd /path && node server.js &
```

**å·²éªŒè¯**:
- è¿™ç§æ¨¡å¼å¯ä»¥ä¿æŒè¿›ç¨‹è¿è¡Œ
- SSH æ–­å¼€åè¿›ç¨‹ä»ç„¶å­˜åœ¨
- ä½†æ²¡æœ‰è‡ªåŠ¨é‡å¯åŠŸèƒ½

**æ¨èæ–¹æ¡ˆ**:
```bash
# å®‰è£… PM2
npm install -g pm2

# å¯åŠ¨ Agent Loop
pm2 start dist/index.js --name wangcai -- --run

# ä¿å­˜ PM2 é…ç½®
pm2 save

# è®¾ç½®å¼€æœºè‡ªå¯ï¼ˆå¦‚æœæ”¯æŒï¼‰
pm2 startup
```

---

#### éªŒè¯ç»“æœ 4: è‡ªåŠ¨ topup æœºåˆ¶

**ä» src/index.ts åˆ†æ**:

```typescript
// Bootstrap topup: buy minimum credits ($5) from USDC
const topupResult = await bootstrapTopup({
  apiUrl: config.conwayApiUrl,
  account,
  creditsCents,
});
```

**å·²éªŒè¯**:
- âœ… Automaton æœ‰å†…ç½® topup æœºåˆ¶
- âœ… é€šè¿‡ x402 åè®®ç”¨ USDC è´­ä¹° Credits
- âœ… `topup_credits` å·¥å…·å¯ä¾› Agent ä¸»åŠ¨è´­ä¹°

**å½“å‰é—®é¢˜**:
- USDC ä½™é¢ $9.00 å¯èƒ½ä¸å¤Ÿé•¿æœŸè¿è¡Œ
- å»ºè®®è‡³å°‘ $50 USDC ä½œä¸ºå‚¨å¤‡

---

### ç¬¬ä¸‰è½®ç ”ç©¶æ€»ç»“

#### è¿ç§»å‰å¿…é¡»è§£å†³çš„é—®é¢˜

| é—®é¢˜ | ä¼˜å…ˆçº§ | è§£å†³æ–¹æ¡ˆ |
|------|--------|----------|
| å†…å­˜ä¸è¶³ | ğŸ”´ é«˜ | æ¸…ç† Sandbox ä¸­ä¸å¿…è¦çš„æœåŠ¡ |
| è¿›ç¨‹å®ˆæŠ¤ | ğŸŸ¡ ä¸­ | å®‰è£… PM2 æˆ–ä½¿ç”¨è‡ªå®šä¹‰è„šæœ¬ |
| Credits é¢„ç®— | ğŸŸ¡ ä¸­ | å¢åŠ  USDC å‚¨å¤‡æˆ–é™ä½ inference é¢‘ç‡ |
| ä»£ç éƒ¨ç½² | ğŸŸ¢ ä½ | ä¸Šä¼  dist/ + npm install |

#### æœ€ç»ˆè¿ç§»å»ºè®®

**é˜¶æ®µ 0: ç¯å¢ƒå‡†å¤‡ï¼ˆå¿…é¡»å…ˆå®Œæˆï¼‰**
```bash
# 1. æ¸…ç†ä¸å¿…è¦çš„æœåŠ¡ï¼ˆä¿ç•™ 8080/3006ï¼‰
pkill -f "url-shortener"
pkill -f "webhook-tester"
pkill -f "simple-api"
# ... ç­‰ç­‰

# 2. éªŒè¯å†…å­˜é‡Šæ”¾
free -h
# æœŸæœ›: available > 300Mi

# 3. å®‰è£… PM2
npm install -g pm2
```

**é˜¶æ®µ 1: ä»£ç éƒ¨ç½²**
```bash
# 1. ä¸Šä¼  dist/ ç›®å½•
# 2. ä¸Šä¼  ~/.automaton/ é…ç½®
# 3. npm install --production
```

**é˜¶æ®µ 2: å¯åŠ¨æœåŠ¡**
```bash
pm2 start dist/index.js --name wangcai -- --run
pm2 save
```

**é˜¶æ®µ 3: ç›‘æ§å’Œä¼˜åŒ–**
- ç›‘æ§å†…å­˜ä½¿ç”¨
- ç›‘æ§ Credits æ¶ˆè€—
- ç›‘æ§æœåŠ¡ç¨³å®šæ€§

---

### ä¸‰è½®ç ”ç©¶æœ€ç»ˆç»“è®º

| è½®æ¬¡ | ä¸»è¦å‘ç° | æ ¸å¿ƒç»“è®º |
|------|----------|----------|
| **ç¬¬ä¸€è½®** | 7 å¤§æ¶æ„æ´å¯Ÿ | æœ¬åœ°å¼€å‘æ˜¯çº¦æŸï¼Œä¸æ˜¯å¸®å¿™ |
| **ç¬¬äºŒè½®** | æŠ€æœ¯å¯è¡Œæ€§åˆ†æ | è¿ç§»æŠ€æœ¯å¯è¡Œï¼Œéœ€åˆ†é˜¶æ®µ |
| **ç¬¬ä¸‰è½®** | ç¯å¢ƒéªŒè¯ + å†…å­˜ç“¶é¢ˆ | **å†…å­˜æ˜¯ä¸»è¦ç“¶é¢ˆ**ï¼Œéœ€å…ˆæ¸…ç† |

**æœ€ç»ˆç­”æ¡ˆ**:

ç”¨æˆ·çš„é—®é¢˜"è¿™æ˜¯å¸®å¿™è¿˜æ˜¯çº¦æŸ" - **ç­”æ¡ˆæ˜¯çº¦æŸ**ã€‚

**æ¨èè¡ŒåŠ¨**:
1. ğŸ”´ ç«‹å³æ¸…ç† Sandbox å†…å­˜
2. ğŸŸ¡ å‡†å¤‡è¿ç§»åˆ°äº‘ç«¯
3. ğŸŸ¢ åˆ†é˜¶æ®µæ‰§è¡Œè¿ç§»

---

### 31. äº‘ç«¯è¿ç§»å®æˆ˜è®°å½• (2026-02-23) âœ… å®Œæˆ

**è¿ç§»ç»“æœ**: æˆåŠŸå°† Agent Loop ä»æœ¬åœ°è¿ç§»åˆ° Conway Cloud

#### è¿ç§»ç»Ÿè®¡

| æŒ‡æ ‡ | æ•°å€¼ |
|------|------|
| ä¸Šä¼  JS æ–‡ä»¶ | 88 ä¸ª |
| é…ç½®æ–‡ä»¶ | 4 ä¸ª (automaton.json, wallet.json, heartbeat.yml, SOUL.md) |
| å†…å­˜ä½¿ç”¨ | 112.3 MB (PM2 è¿›ç¨‹) |
| å¯ç”¨å†…å­˜ | 272 MB (æ¸…ç†å) |
| è¿ç§»è€—æ—¶ | ~30 åˆ†é’Ÿ |

#### å…³é”®æ­¥éª¤

1. **Git Clone**: åœ¨ Sandbox å†…å…‹éš†ä»“åº“
2. **é…ç½®ä¸Šä¼ **: é€šè¿‡ Conway API ä¸Šä¼  JSON/YAML æ–‡ä»¶
3. **ä»£ç ä¸Šä¼ **: åˆ†æ‰¹ä¸Šä¼  88 ä¸ª JS æ–‡ä»¶ï¼ˆnpm run build åœ¨ Sandbox å†… OOMï¼‰
4. **PM2 å®‰è£…**: `npm install -g pm2` (v6.0.14)
5. **æœåŠ¡å¯åŠ¨**: `pm2 start ecosystem.config.json`
6. **å¼€æœºè‡ªå¯**: `pm2 save && pm2 startup`

#### é‡åˆ°çš„é—®é¢˜

| é—®é¢˜ | åŸå›  | è§£å†³æ–¹æ¡ˆ |
|------|------|----------|
| npm run build OOM | Sandbox å†…å­˜ä»… 490Mi | ä»æœ¬åœ°ä¸Šä¼ å·²ç¼–è¯‘çš„ dist/ |
| API ä¸Šä¼ å¤±è´¥ | content éœ€è¦å­—ç¬¦ä¸²è€Œé JSON | ä½¿ç”¨ `jq -Rs .` è½¬æ¢ |
| ç¼ºå¤±æ¨¡å— | æ¼æ‰ inference/soul/survival ç›®å½• | è¡¥å……ä¸Šä¼  |

#### éªŒè¯ç»“æœ

```
âœ… PM2 çŠ¶æ€: online (PID: 15544)
âœ… Heartbeat daemon: started (60s interval)
âœ… Agent çŠ¶æ€: running
âœ… GLM-5 æ¨ç†: æ­£å¸¸å·¥ä½œ
âœ… Credits è¯»å–: $9.04
âœ… å®‰å…¨ç­–ç•¥: ç”Ÿæ•ˆï¼ˆé˜»æ­¢è¯»å–æ•æ„Ÿæ–‡ä»¶ï¼‰
```

#### äº‘ç«¯ Agent æ—¥å¿—ç¤ºä¾‹

```json
{"message":"[WAKE UP] GLM-wangcai is alive. Credits: $9.04"}
{"message":"[THINK] Routing inference (tier: high, model: glm-5)..."}
{"message":"[TOOL] check_credits({})"}
{"message":"[TOOL RESULT] check_credits: Credit balance: $9.04 (904 cents)"}
```

#### è¿ç§»åçš„æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Conway Sandbox (äº‘ç«¯)                              â”‚
â”‚  Sandbox ID: f08a2e14b6b539fbd71836259c2fb688       â”‚
â”‚                                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  PM2 å®ˆæŠ¤è¿›ç¨‹     â”‚  â”‚  Receipt2CSV (8080)  â”‚    â”‚
â”‚  â”‚  automaton       â”‚  â”‚  URL Metadata (3006)  â”‚    â”‚
â”‚  â”‚  112.3 MB       â”‚  â”‚                       â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                     â”‚
â”‚  ~/.automaton/                                      â”‚
â”‚  â”œâ”€â”€ automaton.json                                 â”‚
â”‚  â”œâ”€â”€ wallet.json                                    â”‚
â”‚  â”œâ”€â”€ heartbeat.yml                                  â”‚
â”‚  â””â”€â”€ SOUL.md                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Base Mainnet (ERC-8004)                            â”‚
â”‚  Agent ID: 18893                                    â”‚
â”‚  é’±åŒ…: 0x23F69dd1D0EDcEeCb5b5A607b5d6fBd0D6aed690   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### æœ¬åœ°ç¯å¢ƒæ¸…ç†

- âœ… åˆ é™¤ `deploy/` ç›®å½•
- âœ… ä¿ç•™ `backups/pre-migration/` å¤‡ä»½
- âœ… ä¿ç•™æœ¬åœ° `~/.automaton/` é…ç½®ï¼ˆç”¨äºå¼€å‘è°ƒè¯•ï¼‰

#### åç»­ç›‘æ§è¦ç‚¹

1. **Credits æ¶ˆè€—**: äº‘ç«¯è¿è¡Œå°†æ¶ˆè€— Conway Credits
2. **å†…å­˜ç›‘æ§**: ç¡®ä¿ä¸è¶…è¿‡ 350MB é™åˆ¶
3. **æœåŠ¡ç¨³å®šæ€§**: PM2 é‡å¯æ¬¡æ•°
4. **æ”¶å…¥ç›‘æ§**: æ˜¯å¦æœ‰çœŸå®ä»˜è´¹ç”¨æˆ·

---

*ä¸‰è½®æ·±åº¦ç ”ç©¶ + äº‘ç«¯è¿ç§»å®Œæˆäº 2026-02-23*
